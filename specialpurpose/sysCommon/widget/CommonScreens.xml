<?xml version="1.0" encoding="UTF-8"?>
<!-- Licensed to the Apache Software Foundation (ASF) under one or more contributor 
	license agreements. See the NOTICE file distributed with this work for additional 
	information regarding copyright ownership. The ASF licenses this file to 	the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required 
	by applicable law or agreed to in writing, software distributed under the 
	License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS 
	OF ANY KIND, either express or implied. See the License for the specific 
	language governing permissions and limitations under the License. -->

<screens xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/widget-screen.xsd">

	<screen name="main-decorator">
		<section>
			<actions>
				<property-map resource="SysCommonUiLabels" map-name="uiLabelMap" global="true"/> 
				<script
					location="component://sysCommon/webapp/sysCommon/WEB-INF/actions/findMenuTree.groovy"></script>
				<!-- js开始 -->
				<set field="layoutSettings.javaScripts[+0]" value="/sysCommon/images/My97DatePicker/WdatePicker.js" global="true" />
				<set field="layoutSettings.javaScripts[+0]"
					value="/sysCommon/images/bootstrap/jquery-ui-1.8.21.custom.min.js"
					global="true" />
				<set field="layoutSettings.javaScripts[+0]"
					value="/sysCommon/images/bootstrap/bootstrap.js"
					global="true" />
				<set field="layoutSettings.javaScripts[+0]"
					value="/sysCommon/images/bootstrap/bootstrap-modal-hack2.js"
					global="true" />
				<set field="layoutSettings.javaScripts[]" value="/images/selectall.js"
					global="true" />
				<set field="layoutSettings.javaScripts[]" value="/images/util.js" global="true" />	
				<set field="layoutSettings.javaScripts[]" value="/images/fieldlookup.js"
					global="true" />
				<set field="layoutSettings.javaScripts[]" value="/sysCommon/images/js/common.js"
					global="true" />
				<set field="layoutSettings.javaScripts[]" value="/sysCommon/images/jquery/plugins/dialog1.0.js"
					global="true" />
				<set field="layoutSettings.javaScripts[]" value="/sysCommon/images/js/html_entity.js"
					global="true" />
				<set field="layoutSettings.javaScripts[+0]"
					value="/images/jquery/plugins/validate/localization/messages_cn.js"
					global="true" />
				<set field="layoutSettings.javaScripts[+0]" value="/images/jquery/plugins/validate/lib/jquery.form.js"
					global="true" />
				<set field="layoutSettings.javaScripts[+0]" value="/images/jquery/plugins/validate/jquery.validate.js"
					global="true" />
				<set field="layoutSettings.javaScripts[+0]"
					value="/sysCommon/images/jQueryValidationEngine2.6.2/js/jquery.validationEngine-zh_CN.js"
					global="true" />
				<set field="layoutSettings.javaScripts[+0]"
					value="/sysCommon/images/jQueryValidationEngine2.6.2/js/jquery.validationEngine.js"
					global="true" />
				<set field="layoutSettings.javaScripts[+0]"
					value="/sysCommon/images/jQueryValidationEngine2.6.2/js/jquery.validationEngine.min.js"
					global="true" />
				<set field="layoutSettings.javaScripts[+0]"
					value="/sysCommon/images/jquery.jqGrid-4.4.3/js/i18n/grid.locale-cn.js"
					global="true" />
				<set field="layoutSettings.javaScripts[+0]"
					value="/sysCommon/images/jquery.jqGrid-4.4.3/js/jquery.jqGrid.src.js"
					global="true" />
				<!-- <set field="layoutSettings.javaScripts[+0]"
					value="/sysCommon/images/jquery.jqGrid-4.4.3/js/jquery.jqGrid.min.js"
					global="true" /> -->
				<set field="layoutSettings.javaScripts[+0]"
					value="/sysCommon/images/jquery/jquery-1.7.min.js"
					global="true" />
				<set field="layoutSettings.javaScripts[+0]" value="/sysCommon/images/ejia/jquery.min.js" global="true" />
				<!-- <set field="layoutSettings.javaScripts[+0]" value="/sysCommon/images/ejia/bootstrap.min.js" global="true" />
				<set field="layoutSettings.javaScripts[+0]" value="/sysCommon/images/ejia/jweixin-1.0.0.js" global="true" /> -->
				<set field="layoutSettings.javaScripts[+0]" value="/sysCommon/images/ejia/jweixin-1.js" global="true" />
				<set field="layoutSettings.javaScripts[+0]" value="/sysCommon/images/ejia/nav4.js" global="true" />
					
					


				<!-- <set field="layoutSettings.rtlStyleSheets[+0]"
					value="/sysCommon/images/bootstrap/jqGrid.overrides.css"
					global="true" />
				<set field="layoutSettings.rtlStyleSheets[+0]"
					value="/sysCommon/images/jquery.jqGrid-4.4.3/css/ui.jqgrid.css"
					global="true" />
				<set field="layoutSettings.rtlStyleSheets[+0]"
					value="/sysCommon/images/bootstrap/jquery-ui-1.8.21.custom.css"
					global="true" />
				<set field="layoutSettings.rtlStyleSheets[+0]"
					value="/sysCommon/images/bootstrap/osf.css"
					global="true" />
				<set field="layoutSettings.rtlStyleSheets[+0]"
					value="/sysCommon/images/bootstrap/style.css"
					global="true" />
				<set field="layoutSettings.rtlStyleSheets[+0]"
					value="/sysCommon/images/bootstrap/web-osf.css"
					global="true" />
				<set field="layoutSettings.rtlStyleSheets[+0]"
					value="/sysCommon/images/bootstrap/web.css"
					global="true" />
				<set field="layoutSettings.rtlStyleSheets[+0]"
					value="/sysCommon/images/bootstrap/bootstrap-extends.css"
					global="true" />
				<set field="layoutSettings.rtlStyleSheets[+0]"
					value="/sysCommon/images/bootstrap/common.css"
					global="true" />
				<set field="layoutSettings.rtlStyleSheets[+0]"
					value="/sysCommon/images/jQueryValidationEngine2.6.2/css/validationEngine.jquery.css"
					global="true" />
				<set field="layoutSettings.rtlStyleSheets[+0]" value="/sysCommon/images/ejia/css/bootstrap.css" global="true" />
				<set field="layoutSettings.rtlStyleSheets[+0]" value="/sysCommon/images/ejia/css/font-awesome.css" global="true" />
				<set field="layoutSettings.rtlStyleSheets[+0]" value="/sysCommon/images/ejia/css/weixin.css" global="true" /> -->
				<set field="layoutSettings.rtlStyleSheets[+0]" value="/sysCommon/images/ejia/css/css.css" global="true" />
				<set field="layoutSettings.rtlStyleSheets[+0]" value="/sysCommon/images/ejia/css/common.css" global="true" />
				<set field="layoutSettings.rtlStyleSheets[+0]" value="/sysCommon/images/ejia/css/tjh.css" global="true" />
				<set field="layoutSettings.rtlStyleSheets[+0]" value="/sysCommon/images/ejia/css/menu.css" global="true" />
					
					
				
				<set field="dialogId" from-field="parameters.dialogId" />
			</actions>


			<widgets>	
	             <platform-specific>
	             	<html>
 	             		<html-template location="component://sysCommon/webapp/sysCommon/includes/bootstrap/bootStrapHeader.ftl"/> 
	             	</html>
	             </platform-specific>
	             <container style="container-fluid">
	             	<container style="row-fluid">
		             	<platform-specific>
			             	<html>
			             	</html>
		             	</platform-specific>
	             	 	<container id="content" style="">
	             	 		<platform-specific>
		             	 		<html>
 				             		<html-template location="component://sysCommon/webapp/sysCommon/includes/bootstrap/bootStrapTitle.ftl"/> 
				             	</html>
			             	</platform-specific>
	              			<decorator-section-include name="body"/>
	              		</container>
	              	</container>	
	              </container>
	              <section>
						<condition>
							<if-compare value="Y" operator="equals" field="hasfoot" />
						</condition>
						<widgets>
							<platform-specific>
								<html>
								<html-template location="component://sysCommon/webapp/sysCommon/includes/bootstrap/bootStrapFooter.ftl"/>
								</html>
							</platform-specific>
						</widgets>
					</section>
			</widgets>
		</section>
	</screen>
	
	<screen name="FindScreenDecorator">
		<section>

			<widgets>
			    	<!-- 是否用box-header -->
						<platform-specific>
							<html>
							<html-template
									location="component://sysCommon/webapp/sysCommon/includes/bootstrap/divSearchStart.ftl" />
							</html>
						</platform-specific>
				<container style="row-fluid sortable">
					<container style="box span12">
						
						<container style="panel-body">
							
							<include-screen name="search-options" />
							<platform-specific>
								<html>
									<html-template
										location="component://sysCommon/webapp/sysCommon/includes/action/end_form.ftl" />
								</html>
							</platform-specific>
							<platform-specific>
							<html>
								<html-template
									location="component://sysCommon/webapp/sysCommon/includes/action/div_start.ftl" />
									
							</html>
						</platform-specific>
							<include-screen name="search-results" />
						</container>

						<platform-specific>
							<html>
								<html-template
									location="component://sysCommon/webapp/sysCommon/includes/action/div_end.ftl" />
							</html>
						</platform-specific>
					</container>
				</container>
			</widgets>
		</section>
	</screen>
	<screen name="search-options">
		<section>
			<widgets>

				<decorator-section-include name="search-options" />
				<!-- <platform-specific> <html> <html-template location="component://sysCommon/webapp/sysCommon/includes/action/find_button.ftl" 
					/> </html> </platform-specific> -->

			</widgets>
		</section>
	</screen>
	<screen name="search-results">
		<section>
			<widgets>

				<decorator-section-include name="search-results" />

			</widgets>
		</section>
	</screen>
	<screen name="DetailScreenDecorator">
		<section>
			<actions>
				<set field="dialogId" from-field="parameters.dialogId" />
			</actions>
			<widgets>

				<container style="row-fluid sortable">
					<container style="box span12">

						<platform-specific>
							<html>
								<html-template
									location="component://sysCommon/webapp/sysCommon/includes/bootstrap/divSearchStart.ftl" />
							</html>
						</platform-specific>
						<container style="box-content">
							<decorator-section-include name="detail-options" />
						</container>
						<platform-specific>
							<html>
								<html-template
									location="component://sysCommon/webapp/sysCommon/includes/action/div_end.ftl" />
							</html>
						</platform-specific>

					</container>
				</container>
			</widgets>
			<fail-widgets>

			</fail-widgets>
		</section>
	</screen>
	<!-- Global decorator for Lookup pop-up windows or layered CSS -->
	<screen name="LookupDecorator">
		<section>
			<condition>
				<not>
					<if-compare operator="equals" value="Y"
						field="parameters.ajaxLookup" />
				</not>
			</condition>
			<widgets>
				<section>
					<actions>
						<property-map resource="CommonUiLabels" map-name="uiLabelMap"
							global="true" />
						<service service-name="getUserPreferenceGroup" result-map="prefResult">
							<field-map field-name="userPrefGroupTypeId" value="GLOBAL_PREFERENCES" />
						</service>
						<set field="userPreferences" from-field="prefResult.userPrefMap"
							global="true" />

						<property-map resource="general" map-name="generalProperties"
							global="true" />
						<set field="visualThemeId" from-field="userPreferences.VISUAL_THEME"
							global="true" />
						<service service-name="getVisualThemeResources">
							<field-map field-name="visualThemeId" />
							<field-map field-name="themeResources" from-field="layoutSettings" />
						</service>

						<set field="layoutSettings" from-field="themeResources"
							default-value="${layoutSettings}" global="true" />
						<set field="layoutSettings.javaScripts[]" value="/images/fieldlookup.js"
							global="true" />

						<set field="messagesTemplateLocation" from-field="layoutSettings.VT_MSG_TMPLT_LOC[0]"
							default-value="component://common/webcommon/includes/messages.ftl" />
					</actions>
					<widgets>
						<section>
							<condition>
								<if-compare value="layer" operator="not-equals"
									field="parameters.presentation" />
							</condition>
							<widgets>
								<platform-specific>
									<html>
										<html-template
											location="component://common/webcommon/includes/lookup.ftl" />
									</html>
								</platform-specific>
							</widgets>
						</section>
						<platform-specific>
							<html>
								<html-template location="${messagesTemplateLocation}" />
							</html>
						</platform-specific>
						<section>
							<condition>
								<not>
									<if-empty-section section-name="body" />
								</not>
							</condition>
							<widgets>
								<decorator-section-include name="body" />
							</widgets>
							<fail-widgets>
								<screenlet title="${title}" id="findScreenlet"
									collapsible="true" padded="false">
									<container id="search-options">
										<decorator-section-include name="search-options" />
									</container>
								</screenlet>
								<screenlet>
									<container id="search-results">
										<decorator-section-include name="search-results" />
									</container>
								</screenlet>
							</fail-widgets>
						</section>
						<section>
							<condition>
								<if-compare value="layer" operator="not-equals"
									field="parameters.presentation" />
							</condition>
							<widgets>
								<platform-specific>
									<html>
										<html-template
											location="component://common/webcommon/includes/lookupFooter.ftl" />
									</html>
								</platform-specific>
							</widgets>
						</section>
					</widgets>
				</section>
			</widgets>
			<fail-widgets>
				<section>
					<actions>
						<property-map resource="CommonUiLabels" map-name="uiLabelMap"
							global="true" />
						<set field="searchType" from-field="parameters.searchType"
							default-value="${searchType}" />
						<script
							location="component://common/webcommon/WEB-INF/actions/includes/FindAutocompleteOptions.groovy" />
					</actions>
					<widgets>
						<decorator-screen name="AjaxGlobalDecorator"
							location="component://common/widget/CommonScreens.xml">
							<decorator-section name="body">
								<platform-specific>
									<html>
										<html-template
											location="component://common/webcommon/includes/ajaxAutocompleteOptions.ftl" />
									</html>
								</platform-specific>
							</decorator-section>
						</decorator-screen>
					</widgets>
				</section>
			</fail-widgets>
		</section>
	</screen>
	<screen name="login">
		<section>
			<actions>
				<set field="titleProperty" value="PageTitleLogin" />
			</actions>
			<widgets>
				<platform-specific>
					<html>
						<html-template location="component://sysCommon/webapp/sysCommon/login.ftl" />
					</html>
				</platform-specific>
			</widgets>
		</section>
	</screen>
	<screen name="main">
		<section>
			<widgets>
				<decorator-screen name="main-decorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<platform-specific>
							<html>
								<html-template location="component://sysCommon/webapp/sysCommon/main.ftl" />
							</html>
						</platform-specific>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
</screens>
