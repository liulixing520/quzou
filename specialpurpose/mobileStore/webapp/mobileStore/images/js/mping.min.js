/*! mping 06-02-2015 */
!function(b){function c(a){this._init(),"function"==typeof a&&(this.ready=a);var b=this;document.addEventListener("DOMContentLoaded",function(){b.ready()},!1)}function d(a){this.name=a}function e(){d.call(this,"PV",null),this.type=k.Type.PV,this.setTs("page_ts"),this.setPageParam(),this.setSourceParam()}function f(a){d.call(this,"Click",null),this.type=k.Type.CLICK,this.event_id=a,this.setTs("click_ts"),this.setPageParam()}function g(a){f.call(this,a,null)}function h(a){f.call(this,a,null)}function i(a){d.call(this,"Order",null),this.type=k.Type.ORDER,this.skuId=a,this.setTs("order_ts")}function j(){}var k={ProjectId:"3",Biz:"mba",Key:"5YT%aC89$22OI@pQ",Method:{bpReport:"bp.report",bpSearch:"bp.search"},Client:{IOS_M:{UAname:"iPhone",value:"IOS-M"},ANDROID_M:{UAname:"android",value:"ANDROID-M"},MICRO_M:{UAname:"MicroMessenger",value:"WEIXIN-M"},MM:{UAname:"MM",value:"M-M"}},Type:{PV:"1",PERFORMANCE:"2",CLICK:"3",ORDER:"4"},Storage:{current:"mba_cur_series",cached:"mba_cached_series"}},l={common:{report_ts:"",method:"",token:"",proj_id:"",biz:"",uid:"",pinid:"",guid:"",client:"",appv:"",resolu:"",device:"",osv:"",build:"",net_type:"",sdkv:"",channel:""}};c.prototype={_init:function(){this.initCommonData(),this.initUid()},initCommonData:function(){var a=c.tools.Tools,d=c.tools.md5,e=k.Client,f=l.common,g=navigator.userAgent;if(g.indexOf("jdapp")>-1){var h=g.split(";");h[1]==e.IOS_M.UAname?f.client=e.IOS_M.value:h[1]==e.ANDROID_M.UAname&&(f.client=e.ANDROID_M.value),f.appv=h[2],f.osv=h[3],f.guid=h[4]}else f.client=g.indexOf(e.MICRO_M.UAname)>-1?e.MICRO_M.value:e.MM.value;f.proj_id=k.ProjectId,f.biz=k.Biz,f.method=k.Method.bpReport,f.report_ts=a.getCurTime(),f.resolu=b.innerWidth+"*"+b.innerHeight,f.token=d.hex_md5(f.report_ts+k.Key),f.reserved1=document.referrer,f.reserved3=this._reservedCookies()},_reservedCookies:function(){for(var a=c.tools.Tools,b=["__jda","__jdv","__jdb","__jdu","__jdb","mu_subsite","mt_xid","unpl"],d=[],e=0,f=b.length;f>e;e++)d.push(a.getCookie(b[e]));return d.join("_").replace(/\|/g,"_")},initUid:function(){var a=c.tools.Tools,b=(new Date).getTime();a.isMobile()&&(a.getCookie("mba_muid")?a.setCookie("mba_muid",a.getCookie("mba_muid"),15552e6):a.setCookie("mba_muid",a.getUniq(),15552e6),a.getCookie("mba_sid")?a.setCookie("mba_sid",a.getCookie("mba_sid"),18e5):a.setCookie("mba_sid",b+""+parseInt(1e16*Math.random()),18e5));var d=a.getCookie("pinId"),e=a.getCookie("pin"),f=a.getCookie("mba_muid"),g=a.getCookie("mba_sid");this.options.pinid=d?d:"",this.options.uid=e?e:"",this.options.mba_muid=f?f:"",this.options.mba_sid=g?g:""},send:function(a){if(!this.isSpider()){var b=encodeURIComponent(JSON.stringify(this.getReportData(a))),c="http://stat.m.jd.com/stat/access.jpg?",d=[];d.push("data="+b);var e=c+d.join("&"),f=new Image(1,1);f.src=e}},getReportData:function(a){var b=c.tools.Tools,d={data:[]};if(b.extend(d,l.common),b.extend(d,this.options),a instanceof c.Request){var e=a.getReportObj();e.pinid=this.options.pinid,e.uid=this.options.uid,d.data.push(e)}return d},isSpider:function(){var a=navigator.userAgent,b=/Googlebot|Feedfetcher-Google|Mediapartners-Google|Adsbot-Google|Sogou\s{1}web\s{1}spider|Sogou\s{1}inst\s{1}spider|Sogou\s{1}inst\s{1}spider\/4\.0|HaoSouSpider|360Spider|Baiduspider|bingbot|qihoobot|YoudaoBot|Sosospider|Sogou\s{1}web\s{1}spider|iaskspider|msnbot|Yahoo!\s{1}Slurp|Yahoo!\s{1}Slurp\s{1}China|yisouspider|msnbot/,c=b.test(a);return c}},c.prototype.options={uid:"",pinid:"",mba_muid:"",mba_sid:""},c.prototype.ready=function(){},c.Request=d,d.prototype.getReportObj=function(){var a={};for(var b in this)"function"!=typeof this[b]&&"name"!==b&&(a[b]=this[b]?this[b]+"":"");return a},d.prototype.getTime=function(){var a=(new Date).valueOf()/1e3+"";return a},d.prototype.setTs=function(a){this[a]=this.getTime()},d.prototype.setPageParam=function(){var a=this.getUrlInfo();this.page_name=a[0],this.page_param=a[1]},d.prototype.getUrlInfo=function(a){a||(a=b.location.href);var c=a.split("#")[0].split("?");return c},e.prototype=new d,e.prototype.setSourceParam=function(){var a=b.location.search,d=c.tools.Tools,e=["utm_source","utm_medium","utm_term","utm_campaign"],f=new RegExp(".*("+e.join("|")+")=.*");if(f.test(a))for(var g=d.getSearchObj(a),h=0,i=e.length;i>h;h++){var j=e[h];this[j]=g[j]}},f.prototype=new d,f.prototype.updateEventSeries=function(){c.EventSeries&&c.EventSeries.updateSeries(this)},f.attachEvent=function(a){a||(a="J_ping");var d="touchstart"in b?"touchstart":"click",e=document.querySelector("body");e.addEventListener(d,function(b){for(var d,f=b.target;f!=e;){if(f.className&&f.className.indexOf(a)>-1){d=f;break}f=f.parentNode?f.parentNode:e}if(d){var g=d.getAttribute("report-eventid")?d.getAttribute("report-eventid"):"",h=new c.inputs.Click(g),i=new c;h.event_param=d.getAttribute("report-eventparam")?d.getAttribute("report-eventparam"):"",i.send(h)}},!1)},g.prototype=new f,g.prototype.addSeries=function(a){c.EventSeries.addSeries(a)},h.prototype=new f,h.prototype.deleteSeries=function(a){var b=c.tools.Tools;if(b.isArray(a))for(var d=0,e=a.length;e>d;d++)c.EventSeries.deleteSeries(a[d]);else c.EventSeries.deleteSeries(a)},i.prototype=new d,i.prototype.deleteSeries=function(a){c.EventSeries.deleteSeries(a)},i.prototype.setPageParam=function(){},i.prototype.setParams=function(){c.tools.Tools},c.inputs={},c.inputs.PV=e,c.inputs.Click=f,c.inputs.AddCart=g,c.inputs.RmCart=h,c.inputs.Order=i;var m={getSeries:function(){var a=c.tools.Tools,b={m_source:"1",mba_uid:a.getCookie("mba_muid"),mba_sid:a.getCookie("mba_sid")};return JSON.stringify(b)},getMSeries:function(){var a=this.getSeries(),b=/(?:"m_source"):"(1)"/;return a=a.replace(b,'"m_source":"0"')},writeSeries:function(a){},updateSeries:function(a){var b=this.getCookiePart("mba_cur_e"),d=a&&c.events&&c.events.map[a];if(d){var e,f;b?(e=b.split("|"),f=parseInt(d)-1):(e=[],f=0);for(var g=f;5>g;g++)e[g]=g==parseInt(d)-1?a:"";this.setCookiePart("mba_cur_e",e.join("|"))}},addSeries:function(a){var b,c,d,e=this.getCookiePart("mba_cur_com"),f=this.getCookiePart("mba_cur_e"),g={};if(f||(f={}),e)for(b=e.split("!"),c=0,d=b.length;d>c;c++){var h=b[c].split("=");g[h[0]]=h[1]}g[a]=f,this.setCookiePart("mba_cur_com",this.param(g,"=","!"))},deleteSeries:function(){var b,c,d,e=this.getCookiePart("mba_cur_com"),f={};if(e){for(b=e.split("!"),c=0,d=b.length;d>c;c++){var g=b[c].split("=");g[0]!=a&&(f[g[0]]=g[1])}this.setCookiePart("mba_cur_com",this.param(f,"=","!"))}},subCookieParts:{},getCookiePart:function(){try{var b="mba_event_series=",c=document.cookie.indexOf(b),d=null,e="";if(!(c>-1))return null;if(d=document.cookie.indexOf(";",c),-1==d&&(d=document.cookie.length),d=document.cookie.substring(c+b.length,d),0<d.length){for(b=d.split("&"),c=0,d=b.length;d>c;c++){var f=b[c].split("=");if(decodeURIComponent(f[0])==a){e=decodeURIComponent(f[1]);break}}return e}}catch(g){return null}},setCookiePart:function(a,b){if(b)try{this.subCookieParts=this.getAllSubCookies(),a=a.toString(),b=b.toString(),this.subCookieParts[encodeURIComponent(a)]=encodeURIComponent(b),this.setSubCookieValue()}catch(c){}},getAllSubCookies:function(){var a="mba_event_series=",b=document.cookie.indexOf(a),c=null,d={};if(b>-1){if(c=document.cookie.indexOf(";",b),-1==c&&(c=document.cookie.length),c=document.cookie.substring(b+a.length,c),0<c.length)for(a=c.split("&"),b=0,c=a.length;c>b;b++){var e=a[b].split("=");d[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return d}return{}},setSubCookieValue:function(){var a="mba_event_series=",b=[];for(var c in this.subCookieParts)c&&"function"!=typeof this.subCookieParts[c]&&b.push(c+"="+this.subCookieParts[c]);0<b.length&&(a+=b.join("&"),a+="; path=/; domain="+this.getDomain()+";",document.cookie=a,this.subCookieParts={})},getDomain:function(){return c.tools.Tools.getTopDomain()},param:function(a,b,c){(void 0===b||null===b)&&(b="="),(void 0===c||null===c)&&(c="&");var d=[];for(var e in a)"function"!=typeof this[e]&&d.push(new Array(e,b,this[e]).join(""));return d.join(c)}};c.EventSeries=m,j.prototype={getCurTime:function(){var a=(new Date).valueOf()/1e3+"";return a},getUniq:function(){for(var a="",b=1;28>=b;b++){var c=Math.floor(16*Math.random()).toString(16);a+=c,(8==b||12==b||16==b||20==b)&&(a+="-")}return a},extend:function(a){if(!this.isObject(a))return a;for(var b,c,d=1,e=arguments.length;e>d;d++){b=arguments[d];for(c in b)Object.prototype.hasOwnProperty.call(b,c)&&b[c]&&(a[c]=b[c])}return a},isObject:function(a){var b=typeof a;return"object"===b&&!!a},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},isString:function(a){return"[object String]"===Object.prototype.toString.call(a)},isFunction:function(a){return"[object Function]"===Object.prototype.toString.call(a)},isMobile:function(){var a=navigator.userAgent;return a.indexOf("jdapp")>-1||!!a.match(/AppleWebKit.*Mobile.*/)},getCookie:function(a){var b=document.cookie.match(new RegExp("(^| )"+a+"=([^;]*)(;|$)"));return null!=b?decodeURI(b[2]):null},setCookie:function(a,b,c){var d=new Date;(null===c||void 0===c)&&(c=18e5),d.setTime(d.getTime()+c),document.cookie=a+"="+encodeURI(b)+";expires="+d.toGMTString()+";path=/;domain="+this.getRootDomain(this.getDomain())+";"},getRootDomain:function(a){a=a.replace(/\/$/gi,""),a=a.replace(/^(http|ftp|https|ssh):\/\//gi,""),a=a.replace(/(.com|.info|.net|.org|.me|.mobi|.us|.biz|.xxx|.ca|.mx|.tv|.ws|.com.ag|.net.ag|.org.ag|.ag|.am|.asia|.at|.be|.com.br|.net.br|.com.bz|.net.bz|.bz|.cc|.com.co|.net.co|.com.co|.co|.de|.com.es|.nom.es|.org.es|.es|.eu|.fm|.fr|.gs|.co.in|.firm.in|.gen.in|.ind.in|.net.in|.org.in|.in|.it|.jobs|.jp|.ms|.com.mx|.nl|.nu|.co.nz|.net.nz|.org.nz|.se|.tc|.tk|.com.tw|.idv.tw|.org.tw|.tw|.co.uk|.me.uk|.org.uk|.vg|.com.cn|.gov|.gov.cn|.cn)$/gi,"%divide%$1");var b=a.split("%divide%")[1];"undefined"==typeof b&&(b=""),a=a.split("%divide%")[0];var c=a.split(".");return"."+c[c.length-1]+b},getDomain:function(){var a=b.location.href;return a=a.replace(/^(http|ftp|https|ssh):\/\//gi,""),a.split("/")[0]},getTopDomain:function(){var a=(location.hostname+"/").match(/[\w-]+\.(com|info|net|org|me|mobi|hk|us|biz|xxx|ca|mx|tv|ws|am|asia|at|be|bz|cc|co|de|nom|es|eu|fm|fr|gs|firm|gen|ind|in|it|jobs|jp|ms|nl|nu|se|tc|tk|idv|tw|vg|gov|cn|ha)(\.(cn|hk|jp|tw|kr|mo|uk|ag|es|co|nz|in|br|bz|mx))*\//gi);return a?0<a.length?a[0].substr(0,a[0].length-1):void 0:document.domain},getSearchObj:function(a){a||(a=location.search);for(var b=(a+"").replace(/(&amp;|\?)/g,"&").split("&"),c={},d=0,e=b.length;e>d;d++){var f=b[d].indexOf("=");-1!=f&&(c[b[d].substr(0,f).replace(/[^a-zA-Z0-9_]/g,"")]=decodeURIComponent(b[d].substr(f+1)))}return c}};var n=new j;!function(){if(n.isMobile()){var a=(new Date).getTime();n.getCookie("mba_muid")?n.setCookie("mba_muid",n.getCookie("mba_muid"),15552e6):n.setCookie("mba_muid",n.getUniq(),15552e6),n.getCookie("mba_sid")?n.setCookie("mba_sid",n.getCookie("mba_sid"),18e5):n.setCookie("mba_sid",a+""+parseInt(1e16*Math.random()),18e5)}}(),c.tools||(c.tools={}),c.tools.Tools=n,document.domain=n.getTopDomain(),b.MPing=c}(window),function(){function a(a){return c(b(d(a)))}function b(a){return f(g(e(a),8*a.length))}function c(a){try{}catch(b){o=0}for(var c,d=o?"0123456789ABCDEF":"0123456789abcdef",e="",f=0;f<a.length;f++)c=a.charCodeAt(f),e+=d.charAt(c>>>4&15)+d.charAt(15&c);return e}function d(a){for(var b,c,d="",e=-1;++e<a.length;)b=a.charCodeAt(e),c=e+1<a.length?a.charCodeAt(e+1):0,b>=55296&&56319>=b&&c>=56320&&57343>=c&&(b=65536+((1023&b)<<10)+(1023&c),e++),127>=b?d+=String.fromCharCode(b):2047>=b?d+=String.fromCharCode(192|b>>>6&31,128|63&b):65535>=b?d+=String.fromCharCode(224|b>>>12&15,128|b>>>6&63,128|63&b):2097151>=b&&(d+=String.fromCharCode(240|b>>>18&7,128|b>>>12&63,128|b>>>6&63,128|63&b));return d}function e(a){for(var b=Array(a.length>>2),c=0;c<b.length;c++)b[c]=0;for(var c=0;c<8*a.length;c+=8)b[c>>5]|=(255&a.charCodeAt(c/8))<<c%32;return b}function f(a){for(var b="",c=0;c<32*a.length;c+=8)b+=String.fromCharCode(a[c>>5]>>>c%32&255);return b}function g(a,b){a[b>>5]|=128<<b%32,a[(b+64>>>9<<4)+14]=b;for(var c=1732584193,d=-271733879,e=-1732584194,f=271733878,g=0;g<a.length;g+=16){var h=c,n=d,o=e,p=f;c=i(c,d,e,f,a[g+0],7,-680876936),f=i(f,c,d,e,a[g+1],12,-389564586),e=i(e,f,c,d,a[g+2],17,606105819),d=i(d,e,f,c,a[g+3],22,-1044525330),c=i(c,d,e,f,a[g+4],7,-176418897),f=i(f,c,d,e,a[g+5],12,1200080426),e=i(e,f,c,d,a[g+6],17,-1473231341),d=i(d,e,f,c,a[g+7],22,-45705983),c=i(c,d,e,f,a[g+8],7,1770035416),f=i(f,c,d,e,a[g+9],12,-1958414417),e=i(e,f,c,d,a[g+10],17,-42063),d=i(d,e,f,c,a[g+11],22,-1990404162),c=i(c,d,e,f,a[g+12],7,1804603682),f=i(f,c,d,e,a[g+13],12,-40341101),e=i(e,f,c,d,a[g+14],17,-1502002290),d=i(d,e,f,c,a[g+15],22,1236535329),c=j(c,d,e,f,a[g+1],5,-165796510),f=j(f,c,d,e,a[g+6],9,-1069501632),e=j(e,f,c,d,a[g+11],14,643717713),d=j(d,e,f,c,a[g+0],20,-373897302),c=j(c,d,e,f,a[g+5],5,-701558691),f=j(f,c,d,e,a[g+10],9,38016083),e=j(e,f,c,d,a[g+15],14,-660478335),d=j(d,e,f,c,a[g+4],20,-405537848),c=j(c,d,e,f,a[g+9],5,568446438),f=j(f,c,d,e,a[g+14],9,-1019803690),e=j(e,f,c,d,a[g+3],14,-187363961),d=j(d,e,f,c,a[g+8],20,1163531501),c=j(c,d,e,f,a[g+13],5,-1444681467),f=j(f,c,d,e,a[g+2],9,-51403784),e=j(e,f,c,d,a[g+7],14,1735328473),d=j(d,e,f,c,a[g+12],20,-1926607734),c=k(c,d,e,f,a[g+5],4,-378558),f=k(f,c,d,e,a[g+8],11,-2022574463),e=k(e,f,c,d,a[g+11],16,1839030562),d=k(d,e,f,c,a[g+14],23,-35309556),c=k(c,d,e,f,a[g+1],4,-1530992060),f=k(f,c,d,e,a[g+4],11,1272893353),e=k(e,f,c,d,a[g+7],16,-155497632),d=k(d,e,f,c,a[g+10],23,-1094730640),c=k(c,d,e,f,a[g+13],4,681279174),f=k(f,c,d,e,a[g+0],11,-358537222),e=k(e,f,c,d,a[g+3],16,-722521979),d=k(d,e,f,c,a[g+6],23,76029189),c=k(c,d,e,f,a[g+9],4,-640364487),f=k(f,c,d,e,a[g+12],11,-421815835),e=k(e,f,c,d,a[g+15],16,530742520),d=k(d,e,f,c,a[g+2],23,-995338651),c=l(c,d,e,f,a[g+0],6,-198630844),f=l(f,c,d,e,a[g+7],10,1126891415),e=l(e,f,c,d,a[g+14],15,-1416354905),d=l(d,e,f,c,a[g+5],21,-57434055),c=l(c,d,e,f,a[g+12],6,1700485571),f=l(f,c,d,e,a[g+3],10,-1894986606),e=l(e,f,c,d,a[g+10],15,-1051523),d=l(d,e,f,c,a[g+1],21,-2054922799),c=l(c,d,e,f,a[g+8],6,1873313359),f=l(f,c,d,e,a[g+15],10,-30611744),e=l(e,f,c,d,a[g+6],15,-1560198380),d=l(d,e,f,c,a[g+13],21,1309151649),c=l(c,d,e,f,a[g+4],6,-145523070),f=l(f,c,d,e,a[g+11],10,-1120210379),e=l(e,f,c,d,a[g+2],15,718787259),d=l(d,e,f,c,a[g+9],21,-343485551),c=m(c,h),d=m(d,n),e=m(e,o),f=m(f,p)}return Array(c,d,e,f)}function h(a,b,c,d,e,f){return m(n(m(m(b,a),m(d,f)),e),c)}function i(a,b,c,d,e,f,g){return h(b&c|~b&d,a,b,e,f,g)}function j(a,b,c,d,e,f,g){return h(b&d|c&~d,a,b,e,f,g)}function k(a,b,c,d,e,f,g){return h(b^c^d,a,b,e,f,g)}function l(a,b,c,d,e,f,g){return h(c^(b|~d),a,b,e,f,g)}function m(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}function n(a,b){return a<<b|a>>>32-b}var o=0;MPing.tools||(MPing.tools={}),MPing.tools.md5={hex_md5:a}}(window);