/**
    Standard Javascript Library v0.2
    http://www.StdJS.com
*/
!function(e,t,r,n,i,o,a,s,u,c,l,f,d){var h,p,m,v,g,b,y,k,x,w,_,S,C,T,F,A,L,z,E,H,N,B,D,M,W,P=c.Std=function(e,t){return t===d&&r(e)?P.modules[e]||f:P.create.apply(this,arguments)};P.version=.2,P.models={},P.modules={},P.eval=function(e){var t=c&&c.eval;return t?t(e):new Function(e)()},P.configs=h=function(e,t){if(n(e))for(var i in e)h(i,e[i]);else if(r(e)){if(t===d)return h[e];h[e]=t}},h({template:{cache:!0,escape:!1,syntaxLevel:3,maxCacheSize:10,compressLevel:1},cssSelector:{cache:!0,maxCacheSize:50},dom:{enableScript:!0}}),P.debug=function(){var e=c.console;if(e){for(var t=0,r=arguments.length;r>t;t++)e.log(arguments[t]);return P}var n=Array.prototype.join.call(arguments,"\n");if(!e)throw new Error(n);return e.error(n),P},P.init=function(){var e,t,n,i,o="opacity",a=!!c.ActiveXObject,s=a&&!c.XMLHttpRequest,u=a&&!!l.documentMode,f=a&&!s&&!u,d={ie:{n:a,6:s,7:f,8:u},on:n={},cssName:i={}},h=function(e){return l.createElement(e)};return!function(){var a=h("a"),u=a.style,c="animation",p="keyframes";a.innerHTML="  <link/><table></table><script>;</script>",u.cssText="top:1px;float:left;"+o+":.5;",e=d.css={inlineBlock:s||f,opacity:/^0.5/.test(u[o]),cssFloat:!!u.cssFloat},t=d.dom={dataset:!!a.dataset,tbody:!a.getElementsByTagName("tbody").length,innerFullHTML:3!==a.firstChild.nodeType,outerHTML:!!a.outerHTML,htmlSerialize:!!a.getElementsByTagName("link").length,contains:!!a.contains,compareDocPos:!!a.compareDocumentPosition,cloneBug:""==a.lastChild.cloneNode(!0).innerHTML};for(var m=["submit","focusin","change"],v=0,g=m.length;g>v;v++){var b=m[v],y="on"+b;(n[b]=y in l)||(a.setAttribute(y,"t"),n[b]=a.attributes[y].expando===!1)}for(var k in u){var g=k.length;if(r(k)&&k.toLowerCase().substring(g-9)===c){k=k==c?"":"-"+k.substr(0,g-9)+"-",d.anim=k+p,i.animation=k+c;break}}}(),!function(){var t=d.platformPrefix={Khtml:"-khtml-",O:"-o-",MS:"-ms-",Moz:"-moz-",WebKit:"-webkit-"},r="",n=c.getComputedStyle;if(n){for(var o=c.getComputedStyle(l.documentElement,""),a=0,s=o.length;s>a;a++){var u=o[a],f="";if("-"===u.charAt(0))for(var h in t){var p=t[h];0==u.indexOf(p)&&(""===r&&(r=p),f=u.substring(p.length),-1!=f.indexOf("-")&&(f=f.replace(/-([a-z])/gi,function(e,t){return t.toUpperCase()}).toString()),i[f]=u)}}e.prefix=r}}(),d}(),p=P.each=function(t,r,n,o){var a=f,s=typeof t;if(!t||!e(r))return f;if("string"===s&&(t=t.split(o===d?" ":o)),i(t)){n===!0&&(a=[]);for(var u=0,c=t.length;c>u;u++){var l=r.call(t,u,t[u]);if(l!==d){if(n!==!0)return l;a.push(l)}}}else if("object"===s||"function"===s){n===!0&&(a={});for(var h in t){var l=r.call(t,h,t[h]);if(l!==d){if(n!==!0)return l;a[h]=l}}}return a},m=P.extend=function(t,r,o,a){if(!t||!n(r)&&!e(r))return t;var s,u,c,l="__Std__";switch(o){case 1:for(s in r)s!==l&&(u=r[s],c=t[s],i(u)&&i(c)?t[s].merge(u):t[s]=u);break;case 2:for(s in r)u=r[s],c=t[s],u!==r&&s!==l&&(t[s]=n(u)&&n(c)&&!i(u)&&!i(c)?m(c,u,2):u);break;case 3:for(s in r)u=r[s],c=t[s],u!==r&&s!==l&&(i(u)&&i(c)?t[s].mergeArray(u):t[s]=n(u)&&n(c)&&!i(u)&&!i(c)?m(c,u,3):u);break;default:for(s in r)a===!1&&s in t||s!==l&&(t[s]=r[s])}return t},m(Math,{over:function(e,t){return 0===t?0:e/t},rand:function(e,t){return e=t===d?Math.random()*e:Math.random()*(t-e)+e}}),m(Array,{from:function(e){var i,o=e.length;if(n(e))if(i=[],t(o))for(var a=0;o>a;a++)i[a]=e[a];else for(var s in e)i.push(e[s]);else r(e)&&(i=e.split(""));return i}},0),m(Array.prototype,{indexOf:function(e,t){var r=this,n=r.length;for(t=t===d?0:t;n>t;t++)if(e===r[t])return t;return-1},unique:function(){for(var e=this,t=e.length,r=[],n=0,i=0;t>i;i++)-1==r.indexOf(e[i])&&(r[n++]=e[i]);for(var o=0;n>o;o++)e[o]=r[o];return e.length=n,e},mergeArray:function(e,t){var r=this;if(n(e))for(var i=e.length||0,o=0;i>o;o++)t===!0&&r.exist(e[o])||r.push(e[o]);return r},order:function(e){var t=f;return"asc"===e?t=function(e,t){return e>t}:"desc"===e&&(t=function(e,t){return t>e}),this.sort(t)},remove:function(e){var t=this;return e===d?t.length=0:(t[e]=f,t.splice(e,1)),t},swap:function(e,t){var r=this,n=r[e];return r[e]=r[t],r[t]=n,r},merge:function(){for(var e=0,t=arguments,r=t.length;r>e;e++)this.mergeArray(t[e]);return this},union:function(){for(var e=0,t=arguments,r=t.length;r>e;e++)this.mergeArray(t[e],!0);return this},push_uniq:function(e){var t=this;return t.exist(e)||t.push(e),t},insert:function(e,t){return this.splice(t,0,e),this},exist:function(e){return-1!==this.indexOf(e)},each:function(e,t,r){return p.call(this,this,e,t,r)},has:function(){for(var e=0,t=arguments,r=t.length;r>e;e++)if(!this.exist(t[e]))return!1;return!0},clear:function(){return this.remove()}},0,!1),m(String.prototype,{trim:function(){return this.replace(/(^\s*)|(\s*$)/g,"")},left:function(e){return this.substr(0,e)},right:function(e){return this.substring(this.length-e)},isNumber:function(){return w.number(this)},capitalize:function(){return this.charAt(0).toUpperCase()+this.substr(1)},retype:function(){var e=this.toString();return"true"===e?e=!0:"false"===e?e=!1:w.number(e)&&(e=int(e)),e},byteLen:function(){for(var e=this,t=e.length,r=t-1;r>=0;r--){var n=e.charCodeAt(r);n>127&&2047>=n?t++:n>2047&&65535>=n&&(t+=2)}return t},between:function(e,t,r){var n=this,i=n.indexOf(e,r),o=n.indexOf(t,i+e.length);return-1===i||-1===o?f:n.substring(i+e.length,o)},reverse:function(){for(var e="",t=this.length-1;t>=0;t--)e+=this.charAt(t);return e},toObject:function(){var e=this.trim();if(e.length<2)return f;var t=e.charAt(0),r=e.substring(e.length-1);return"["==t&&"]"==r||"{"==t&&"}"==r?new Function("return "+e)()||f:f},count:function(e){var t=0,r=this,n=-1;if(e===d)return r.length;for(;-1!=(n=r.indexOf(e,n+1));)t++;return t},line:function(e,t){var r=0,n=this.toString(),i=-1;do if(++r===e){var o=n.indexOf("\n",i+1);return t===!0?i+1:n.substring(i,o)}while(-1!=(i=n.indexOf("\n",i+1)));return n},camelCase:function(e){var t=this;return e===!0&&(t=t.capitalize()),-1!=t.indexOf("-")?t.replace(/-([a-z])/gi,function(e,t){return t.toUpperCase()}):t.toString()},unCamelCase:function(){return this.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})}},0,!1),m(Number.prototype,{"float":function(e){var t=Math.pow(10,e===d?0:e);return Math.round(this*t)/t},isFloat:function(){return 0!=Math.ceil(this)-this}}),m(Date.prototype,{format:function(e,t){var r=this;if(t===d){var n={"M+":r.getMonth()+1,"d+":r.getDate(),"h+":r.getHours(),"m+":r.getMinutes(),"s+":r.getSeconds(),"q+":Math.floor((r.getMonth()+3)/3),S:r.getMilliseconds()};a(e)&&(e="yyyy-M-d h:m:s"),/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(r.getFullYear()+"").substr(4-RegExp.$1.length)));for(var i in n)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?n[i]:("00"+n[i]).substr((""+n[i]).length)));return e}for(var o="y M d h m s".split(" "),s="",u=[],c={},l=0,f=-1,h=e.length;h>l;l++){var p=e.charAt(l),m=-1!=o.indexOf(p);m&&p!==s?u[++f]=s=p:m||p===s?u[f]+=p:u[++f]=s=p}for(l=0,f=0,h=u.length;h>l;l++){var v=u[l],g=t.substring(f,f+=v.length);if(!g)break;-1!=o.indexOf(v.charAt(0))&&(c[v.charAt(0)]=~~g)}for(var b in c){var y=~~c[b];"y"==b?y.length<4?r.setYear(y):r.setFullYear(y):"M"==b?r.setMonth(y-1):"d"==b?r.setDate(y):"m"==b?r.setMinutes(y):"s"==b&&r.setSeconds(y)}return r}},0,!1),m(c,{"int":parseInt,"float":function(e,t){var r=parseFloat(e);return t===!0?0!=Math.ceil(r)-r:r},newDom:function(e,t){var r=l.createElement(e);return"string"==typeof t&&(r.className=t),new D(r,!1)},newDiv:function(e){return newDom("div",e)},sprintf:function(){for(var e=arguments,t=e.length,r=arguments[0],n=1,i="",o=0,a=r.length;a>o;o++){var s=r.charAt(o);if(a-1>o&&"%"==r.charAt(o)){var u=r.charAt(o+1);if("%"==u)i+="%";else if(t>n){var c=e[n];switch(u){case"c":i+=(c+"").charAt(0);break;case"s":i+=c+"";break;case"d":i+=int(c);break;case"f":i+=float(c);break;case"o":i+=int(c).toString(8);break;case"x":i+=int(c).toString(16);break;case"X":i+=int(c).toString(16).toUpperCase();break;case".":if(a-3>o){var l=int(r.charAt(o+2));l>0&&"f"==r.charAt(o+3)&&(i+=float(c).toFixed(l),o+=2)}}n++}o++}else i+=s}return i}}),v=P.func=function(o,s){if(o==d)return function(){};if(o===!1)return function(){return o};r(o)&&(o=new Function(o));var u=f,c=f,l=0,h=!1,m=!1,g=!1,b=!0,y=" ",k="array",x="object",w="string",_=[Array,i,k],S=[Object,n,x],C=[String,r,w];if(n(s)){var T=s.each||s.a,F=s.split||s.b,A=s.parent||s.c,L=s.delay||s.d;c=s.bind||s.e,s.rebuild&&(o=v.rebuild(o)),s.chaining===!1&&(b=!1),r(F)&&(y=F),t(L)&&(u=L),i(T)?p(T,function(e,t){_.exist(t)?h=!0:S.exist(t)?m=!0:C.exist(t)&&(g=!0)}):n(T)&&(a(T[k])||(h=T[k]),a(T[x])||(m=T[x]),a(T[w])||(g=T[w])),e(A)?l=A:i(A)&&(l=function(){for(var e=0,t=arguments,r=A.length;r>e;e++)A[e].apply(this,t)})}else t(s)&&(u=s);var z=function(e,t,r,n,a){var s,u=c||this;if(e===d)0!==l&&l.call(u),s=o.call(u);else if(h===!0&&i(e))for(var f=0,v=e.length;v>f;f++)z.call(u,e[f],t,r,n,a);else if(g===!0&&typeof e===w)-1===e.indexOf(" ")?o.call(u,e,t,r,n,a):p(e,function(e,i){o.call(u,i,t,r,n,a)},!1,y);else if(m===!0&&typeof e===x)for(var k in e)o.call(u,k,e[k],r,n,a);else 0!==l&&l.call(u,e,t,r,n,a),s=o.call(u,e,t,r,n,a);return s===d&&b===!0&&(s=u),s};return u!==f?function(){var e=c||this,t=arguments;return setTimeout(function(){z.apply(e,t)},u),e}:z},v.exec=function(e,t){return v(e,t)()},v.malloc=function(e,t){var r="prototype",n=function(){e.apply(this,t)};return n[r]=e[r],new n},v.rebuild=function(){},g=P.model=function(e,t,i){if(i===d&&(i=P),r(e)){if(t===d)return i.models[e]}else t===d&&n(e)&&(t=e);return n(t)?(r(e)&&(i.models[e]=t),t):{}},b=P.module=function(t,o,a){if(r(t)){if(o===d)return P.modules[t]||f}else a=o,o=t;if(a===d&&(a=P),e(o)&&!n(o=o.call(a)))return f;var s="__Std__",u="prototype",c=b.inheritance,l=o.model||o.a;r(l)&&(l=l.split(" ")),i(l)?p(l,function(e,t){var i=f;r(t)?i=a.models[t]:n(t)&&(i=t),i==f&&r(t)||b.loadModel(o,i)}):n(l)&&b.loadModel(o,l);var h=o.parent||o.b||f,g=o.events||o.c||[],k=o.mix||o.d||f,x=o.option||o.e||f,w=o.static||o.f,_=o.extend||o.g||{},S=o.private||o.h,C=o.protected||o.i,T=o.public||o.j,F=o.main||o.k||v(),L=o.entrance||o.l,z=o.action||o.m||{},E=o.__constructor__||o.z,H=F;if(r(h)&&!(h=a.modules[h]))return f;var N=function(){var e=arguments;h.apply(this,e),F.apply(this,e)};e(E)?(H=E,e(h)&&c(H,h)):1===o.type?e(h)?(H=function(e,t,r,n,i){return new N(e,t,r,n,i)},c(H,h),c(N,h)):(H=function(e,t,r,n,i){return new F(e,t,r,n,i)},F[u]=H[u]={}):e(h)&&(H=N,c(H,h));var B=H[u];if(r(g)&&(g=g.split(" ")),e(h)&&(h[u][s]&&(g=g.union(h[u][s].events)),b.extendMembers(H,_,h),m(H,h)),x!==f){var D={};if(e(h)){var M=h[u][s];n(M)&&(x=m(m(D,M.option),x))}D=new A(x),B.opt=function(e,t,r){if(t===d)return this.opts[e];if(this.opts[e]=t,"function"==typeof r){var n=r.call(this);if(n!==d)return n}return this},B.init_opts=function(e){return this.opts=D.get(e)},B.call_opts=function(e,t){var o=this,a=o.opts,s=o.__Std__.option;if(r(e))t===!0?a[e]!==s[e]&&o[e](a[e]):o[e](a[e]);else if(i(e))for(var u=0,c=e.length;c>u;u++){var l=e[u];t===!0?a[l]!==s[l]&&o[l](a[l]):o[l](a[l])}else if(n(e))for(var l in e)t===!0?a[l]!==e[l]&&o[l](a[l]):o[l](e[l]);return o}}return i(k)?p(k,function(e,t){m(H,t),m(B,t[u])}):(n(k)||e(k))&&(m(H,k),m(B,k[u])),n(w)&&m(H,w),n(C)&&p(C,function(e,t){B["_"+e]=t}),n(S)&&m(B,S),n(T)&&m(B,T),e(L)&&L.call(H,H,B),n(z)||(z={}),e(h)&&(z=m(m({},h[u][s].action),z)),p(z,function(t,r){y[0](r,B[t])?z[t]=B[t]:e(r)&&(z[t]=r)}),B[s]={type:o.type||0,model:l||f,parent:h,option:x,events:g,action:z,main:F},r(t)&&(a.modules[t]=H),H},b.inheritance=function(e,t){var r="prototype",n=v();return n[r]=t[r],e[r]=new n,e[r].constructor=e,e},b.extendMembers=function(t,r,n){return p(r,function(r,i){var o=n.prototype[r];e(o)&&e(i)&&(t.prototype[r]=function(){var e=this,t=arguments,r=o.apply(e,t);return r!==e&&r!==d?r:((r=i.apply(e,t))===d&&(r=e),r)})}),t},b.loadModel=function(e,t){var o="events",a=t[o]||t.c,s=e[o];return r(a)&&(a=a.split(" ")),i(a)&&(s?(r(s)&&(s=s.split(" ")),i(s)&&(e[o]=[].union(a,s))):e[o]=a),p({parent:"b",main:"k",entrance:"l"},function(r,n){var i=t[r]||t[n],o=e[r]||e[n];!o&&i&&(e[r]=i)}),p({mix:"d",option:"e","static":"f",extend:"g","private":"h","protected":"i","public":"j",action:"m"},function(r,i){var o=t[r]||t[i];if(n(o)){var a=m(m({},o),e[r]||e[i]);e[i]?e[i]=a:e[r]=a}}),e},b.property=function(e,t,r){var i,o=e,a="prototype";if(r!==!0)return(i=o[a].__Std__)?i[t]:f;for(var s=[];(i=o[a].__Std__)&&n(i)&&i[t]!==d&&(s.push(i[t]),o=i.parent););return s},b.extend=function(t,i,o){return r(t)||(o=i,i=t),o===d&&(o=P),e(i)&&!n(i=i.call(o))?f:void 0},y=P.mold={0:function(t,n){return r(t)&&e(n)},1:function(e){return r(e)||t(e)},2:function(e,t){return t in e?e[t]:e[t]={}},ui:function(e,t,i){var o=f;if(r(t)){var a={text:t};n(i)&&m(a,i),o=M(e,a)}else s(t)?o=t:n(t)&&(n(i)&&m(t,i),o=M(t.ui||e,t));return o}},P.create=function(e){if(r(e)){var t=P.modules[e];return t===f?t:v.malloc(t,Array.prototype.slice.call(arguments,1))}},P.unite=function(o,a,s){var u="prototype",c=P.unite.addMember,l=v(),h=a||v(),m=P.unite.methods;return l[u]=o[u],h[u]={length:0,_:function(o){var a=this,s=f;return o===d?s=a:r(o)?s=m[o].apply(a,Array[u].slice.call(arguments,1)):i(o)?s=m.merge.call(a,o):t(o)?s=a[o]:(e(o)||n(o))&&(s=m.push.call(a,o)),s},each:function(e){return m.each.call(this,e)}},p(new l,function(t,r){e(r)&&c(h,t)}),p(s,function(t,r){e(r)&&c(h,t)}),h},P.unite.addMember=function(e,t){e.prototype[t]=function(){for(var e=this,r=arguments,n=0,i=e.length;i>n;n++){var o=e[n][t];o&&o.apply(e[n],r)}return e}},P.unite.methods=function(){var e=Array.prototype,t={clear:function(){for(var e=this;e.length>0;)delete e[--e.length];return e},splice:function(t,r){return e.splice.call(this,t,r),this},remove:function(e){return e===d?this.clear():t.splice.call(this,e,1)},indexOf:function(t,r){return e.indexOf.call(this,t,r)},exist:function(e){return-1!==t.exist.call(this,e)},merge:function(e){for(var t=this,r=0,n=e.length;n>r;r++)t[t.length++]=e[r];return t},push:function(e){return this[this.length++]=e},each:function(e){for(var t=this,r=0,n=this.length;n>r&&e.call(t[r],r,t[r])!==!1;r++);return t}};return t}(),A=P.options=b({j:{get:function(e){var t=new this.data;if(!n(e))return t;for(var r in e)t[r]=e[r];return t},set:v(function(e,t){this.data.prototype[e]=t},{each:[i,n]}),remove:v(function(e){delete this.data.prototype[e]},{each:[i]})},k:function(e){var t=this;return t.data=function(){},t.set(e),t}}),g("events",function(){var t="__StdEvents__";return{j:{eventExist:function(r,n){var i=this[t];return i&&i[r]?e(n)?i[r].exist(n):!0:!1},eventAssign:function(t,n){var o=this;if(!e(n))return o;if(r(t)&&(t=t.split(" ")),i(t))for(var a=t.length,s=[],u=0,c=function(e,t){s[e]=f,o.once(t,function(t){s[e]=t,++u==a&&n.apply(o,s)})},l=0;a>l;l++)c(l,t[l]);return o},on:v(function(e,r){var n=this,i=y[2](n,t);if(y[0](e,r)){var o=i[e];o||(o=i[e]=[]),o.push(r)}return n},{each:[i,n,r]}),off:v(function(r,n){var i=this,o=i[t];r===d?p(o,function(e){i.off(e)}):n===d&&r in o?o[r].clear():o&&e(n)&&p(o[r],function(e,t){t===n&&o[r].remove(e)})},{each:[i,n,r]}),once:v(function(e,t){var r=this;if(y[0](e,t)){var n=function(i){return r.off(e,n),t.call(r,i)};r.on(e,n)}},{each:[i,n,r]}),emit:v(function(r,n,i){var o,a=this,s=a[t];if("boolean"==typeof r)return a.emitTurn=r,a;if(!s||!(o=s[r])||a.emitTurn===!1)return a;var u=o.length,c="call";if(i===!0&&(c="apply"),1===u)return o[0][c](a,n),void 0;for(var l=0;u>l;){var f=o[l];e(f)&&f[c](a,n),f===o[l]&&l++}},{each:[i,r]})}}}()),k=P.events=b({a:"events",f:{connect:function(t,n,o,a){var s="__StdConnection__",u=function(){var t=arguments;return e(a)?a.apply(o,t):y[0](a,o[a])?o[a].apply(o,t):(i(a)&&p(a,function(n,i){if(r(i)){if(e(o[i])&&o[i].apply(o,t)===!1)return!1}else if(e(i)&&i.apply(o,t)===!1)return!1}),void 0)};return t[s]||(t[s]={}),t[s][n]||(t[s][n]=[]),t[s][n].push({source:t,sourceEvent:n,target:o,targetMethod:a,handle:u}),t.on(n,u),k},disconnect:function(e,t,r,n){var i="__StdConnection__";if(!e||!e[i])return k;if(!e[i][t]){for(var t in e[i])k.disconnect(e,t);return k}return r?(p(e[i][t],function(o,a){(!n||a.target===r&&a.targetMethod===n)&&(a.source.off(t,a.handle),e[i][t].remove(o))}),k):(p(e[i][t],function(r,n){k.disconnect(e,t,n.target)}),k)}}}),x=P.queue=b({type:1,a:"events",i:{done:!1,autorun:!0},j:{pos:0,length:0,done:function(){var e=this;return e._done=!0,e.next(),e},exist:function(e){return-1!==Array.prototype.indexOf.call(this,e)},merge:function(){return Array.prototype.mergeArray.apply(this,arguments)},prev:function(){return this.go(this.pos-1,arguments)},next:function(){return this.go(this.pos+1,arguments)},go:function(e,t){var r=this,n=r.length;if(e===d&&(e=0),n-1>=e){var o=r[r.pos=e];r._done=!1,i(t)?o.apply(r,t):o.call(r,t)}return e===n-1&&r.emit("complete"),r},exec:function(){for(var e=this,t=e.length,r=0;t>r;r++)e[e.pos=r].apply(e,arguments);return t>0&&e.emit("complete"),e},autorun:function(e){var t=this;return t._autorun=e===d?!0:e,t.length>0&&t.go(0),t},push:function(e){var t=this;return t[t.length++]=e,t._autorun&&(1===t.length?t.go(0):t.pos===t.length-2&&t._done&&t.next()),t},append:function(t){var r=this;return e(t)?r.push(t):i(t)&&r.merge(t),r},remove:function(r){var n=this;if(r===d)n.clear();else if(t(r)){delete n[r];for(var i=r+1;i<n.length;i++)i>0&&(n[i-1]=n[i],delete n[i]);n.length--}else if(e(r))for(var i=n.length;i--;)if(n[i]===r){n.remove(i);break}return n},clear:function(){var e=this;e.pos=0,e.length=0;for(var t=0;t<e.length;t++)delete e[t];return e}},k:function(e){var t=this;i(e)?t.merge(e):n(e)&&(i(e.queue)&&t.merge(e.queue),n(e.on)&&t.on(e.on))}}),w=P.valid=P.is=b({f:{url:function(){},email:function(e){return/\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/.test(e)},number:function(e){return!isNaN(float(e))&&isFinite(e)},blankChar:function(e){return"\r"===e||"\n"===e||" "===e||"	"===e},alnum:function(e){return e>="0"&&"9">=e||e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e},validAlNum:function(e){if(""===e)return!1;for(var t=e.length-1,r=w.alnum;t>=0;t--)if(!r(e.charAt(t)))return!1;return!0},singleTag:function(e){switch(e){case"input":case"link":case"meta":case"img":case"param":case"br":case"hr":return!0}return!1},operatorChar:function(e){switch(e){case"+":case"-":case"*":case"/":case"=":case"!":case">":case"<":case"~":case"|":case"$":case"^":return!0}return!1},find:function(e,r){if(e===d||!r)return!1;if(r===e)return!0;var n=typeof r;if("object"===n){var o=r.length,a=i(r);if(a||t(o))for(var s=0;o>s;s++)if(r[s]===e)return!0;if(!a)return e in r}else if("string"===n)return r.indexOf(e+"")>-1;return!1},operator:function(e,t,r){var n=!1;if(""===t&&""===r)return!n;if(r==d)return n;switch(t){case">":n=float(e)>float(r);break;case"<":n=float(e)<float(r);break;case"=":case"==":n=e==r;break;case"===":n=e===r;break;case">=":n=float(e)>=float(r);break;case"<=":n=float(e)<=float(r);break;case"!=":n=e!==r;break;case"~=":n=(" "+e+" ").indexOf(r)>-1;break;case"^=":n=0==e.indexOf(r);break;case"$=":n=e.slice(-r.length)===r;break;case"*=":n=e.indexOf(r)>-1;break;case"|=":n=e===r||e.slice(0,r.length+1)==r+"-"}return n},color:function(e){var t=!0,r=(e=e.toLowerCase()).length,n=w.validAlNum;if("#"===e.charAt(0)){var i=e.substr(1,r-1),o=r-1;if(!n(i)||3!=o&&6!=o)return!1;for(var a,s=0;o>s;s++)if((a=i.charAt(s))>"f")return!1}else if(n(e)&&25>r)t=e in S.colors;else if(r>=11&&"rgb"===e.substr(0,3)){var u=3;if("a"===e.charAt(3)&&u++,"("!==e.charAt(u)&&")"!==e.charAt(r-1))return!1;var c=e.substring(u+1,r-1);if(c!==f){var l=(c=c.split(",")).length;if(u!==l)return!1;p(c,function(e,r){return!w.number(r)||0>~~r||~~r>255?t=!1:void 0})}}else t=!1;return t},keyword:function(e){return w.keywords.exist(e)},keywords:"break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined".split(","),element:{className:function(e,t){var n=e.className;if(!n)return!1;n=n.split(" "),r(t)&&(t=t.split(" "));var i=t.length,o=n.length;if(0==o||0==i)return!1;for(var a=0,s=0;o>s;s++)for(var u=n[s],c=0;i>c;c++)if(u==t[c]){a++;break}return a===i},descendant:function(e,r){if(!e||!r)return!1;var n=r.length;if(t(n)){for(var i=0;n>i;i++)if(w.element.descendant(e,r[i]))return!0}else for(;e=e.parentNode;)if(e===r)return!0;return!1}},ie:function(e){var t=P.init.ie;return e==f?t.n:t[e]||!1}},k:function(e,t){if(e instanceof RegExp)return e.test(t);var o=!1;switch(e){case"Number":o=w.number(t);break;case"String":o=r(t)&&!a(t);break;case"Object":o=n(t);break;case"Array":o=i(t);break;case"EMail":o=w.email(t);break;case"NonEmpty":o=!a(t);break;case"Element":o=n(t)&&1===t.nodeType}return o}}),_=P.codec=function(){var e="replace";return{escapeString:function(e,t){for(var r="",n=0,i=e.length;i>n;n++){var o=e.charAt(n),a=e.charAt(n+1);switch(o){case t:r+="\\"+o;break;case"\r":r+="\\r";break;case"\n":r+="\\n";break;case"\\":a===o?(r+="\\\\",n++):a===t&&(r+="\\"+t,n++);break;default:r+=o}}return r},escapeHTML:function(t){return t[e](/[<>&"]/g,function(e){return{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2f;","`":"&#x60;"}[e]||e})},unescapeHTML:function(t){return t[e](/&amp;/,"&")[e](/&lt;/g,"<")[e](/&gt;/g,">")[e](/&#39;/g,"'")[e](/&quot;/g,'"')[e](/&#(\d+)/g,function(e,t){return String.formCharCode(int(t,10))})}}}(),S=P.convert=b(function(){var e=Math.min,i=Math.max,o=Math.round;return{f:{percent:function(e,n){return t(n)?float(100*(e/(n||100))):(r(e)&&(e="from"===e?0:"to"===e?100:"%"===e.charAt(e.length-1)||w.number(e)?float(e):f),e)},timeUnit:function(e,t,n){if(r(e)&&n===d){n=t;for(var i=e.length,o=i-1;o>=0;o--){var a=e.charAt(o);if(a>="0"&&"9">=a){t=e.substring(o+1,i)||"ms",e=int(e.substr(0,o+1));break}}return 0>o?0:S.timeUnit(e,t,n)}var s=1e3,u={us:s,ns:s*s},c={s:s,m:60*s,h:60*60*s,d:24*60*60*s},l=function(e,t,r){var n;if("ms"==t)return e;if(t in u)n=!0;else{if(!(t in c))return 0;n=!1}return 1==r?n?e/u[t]:c[t]*e:n?u[t]*e:e/c[t]};return s=t===n?e:"ms"===n?l(e,t,1):l(l(e,t,1),n,0)},hex2rgb:function(e){function t(t){return e.charAt(t)}return"#"===e.charAt(0)&&(e=e.substr(1)),3==e.length&&(e=t(0)+t(0)+t(1)+t(1)+t(2)+t(2)),{r:int(t(0)+t(1),16),g:int(t(2)+t(3),16),b:int(t(4)+t(5),16)}},rgb2hex:function(e,t,r){n(e)&&(t=e.g,r=e.b,e=e.r);for(var i=(65536*~~e+256*~~t+~~r).toString(16);i.length<6;)i="0"+i;return"#"+i},hsv2rgb:function(e,t,r){if(n(e)&&(t=e.s,r=e.v,e=e.h),e=o(e),t=o(255*t/100),r=o(255*r/100),0==t)return{r:r,g:r,b:r};var i=r,a=(255-t)*r/255,s=(i-a)*(e%60)/60,u=0,c=0,l=0;return 360==e&&(e=0),60>e?(u=i,l=a,c=a+s):120>e?(c=i,l=a,u=i-s):180>e?(c=i,u=a,l=a+s):240>e?(l=i,u=a,c=i-s):300>e?(l=i,c=a,u=a+s):360>e&&(u=i,c=a,l=i-s),{r:o(u),g:o(c),b:o(l)}},rgb2hsv:function(t,r,a){n(t)&&(r=t.g,a=t.b,t=t.r);var s=e(t,r,a),u=i(t,r,a),c=u-s,l=0,f=0,d=u*(100/255);return 0!=u&&(f=255*c/u),l=0==f?-1:t==u?(r-a)/c:r==u?2+(a-t)/c:4+(t-r)/c,(l*=60)<0&&(l+=360),{h:e(360,o(l)),s:o(f*=100/255)||0,v:o(d)||0}},rgb:function(e){var t=f;return"rgb"==e.left(3).toLowerCase()&&(e=e.between("(",")"))!==f&&(e=e.split(",")).length>=3&&(t={r:~~e[0],g:~~e[1],b:~~e[2]},4==e.length&&(t.a=float(e[3]))),t},hsv:function(e){var t=f;return"hsv"==e.left(3).toLowerCase()&&(e=e.between("(",")"))!==f&&3==(e=e.split(",")).length&&(t={h:~~e[0],s:~~e[1],v:~~e[2]}),t},color:function(e){var t=(e=e.trim().toLowerCase()).length,r=S.colors,n=S.hex2rgb,i=f;return 8>t&&"#"===e.charAt(0)?i=n(e):25>t&&e in r?i=n(r[e]):t>9&&("rgb"==e.substr(0,3)||"rgba"==e.substr(0,4)?i=S.rgb(e):"hsv"===e.substr(0,3)&&(e=S.hsv(e),i=S.hsv2rgb(e.h,e.s,e.v))),i}},k:function(){}}}),S.colors=function(){for(var e={},t="black,navy,darkblue,mediumblue,blue,darkgreen,green,teal,darkcyan,deepskyblue,darkturquoise,mediumspringgreen,lime,springgreen,aqua,cyan,midnightblue,dodgerblue,lightseagreen,forestgreen,seagreen,darkslategray,limegreen,mediumseagreen,turquoise,royalblue,steelblue,darkslateblue,mediumturquoise,indigo,darkolivegreen,cadetblue,cornflowerblue,mediumaquamarine,dimgray,dimgrey,slateblue,olivedrab,slategray,lightslategray,mediumslateblue,lawngreen,chartreuse,aquamarine,maroon,purple,olive,gray,skyblue,lightskyblue,blueviolet,darkred,darkmagenta,saddlebrown,darkseagreen,lightgreen,mediumpurple,darkviolet,palegreen,darkorchid,yellowgreen,sienna,brown,darkgray,lightblue,greenyellow,paleturquoise,lightsteelblue,powderblue,firebrick,darkgoldenrod,mediumorchid,rosybrown,darkkhaki,silver,mediumvioletred,indianred,peru,chocolate,tan,lightgray,thistle,orchid,goldenrod,palevioletred,crimson,gainsboro,plum,burlywood,lightcyan,lavender,darksalmon,violet,palegoldenrod,lightcoral,khaki,aliceblue,honeydew,azure,sandybrown,wheat,beige,whitesmoke,mintcream,ghostwhite,salmon,antiquewhite,linen,lightgoldenrodyellow,oldlace,red,fuchsia,magenta,deeppink,orangered,tomato,hotpink,coral,darkorange,lightsalmon,orange,lightpink,pink,gold,peachpuff,navajowhite,moccasin,bisque,mistyrose,blanchedalmond,papayawhip,lavenderblush,seashell,cornsilk,lemonchiffon,floralwhite,snow,yellow,lightyellow,ivory,white".split(","),r="000000,000080,00008B,0000CD,0000FF,006400,008000,008080,008B8B,00BFFF,00CED1,00FA9A,00FF00,00FF7F,00FFFF,00FFFF,191970,1E90FF,20B2AA,228B22,2E8B57,2F4F4F,32CD32,3CB371,40E0D0,4169E1,4682B4,483D8B,48D1CC,4B0082,556B2F,5F9EA0,6495ED,66CDAA,696969,696969,6A5ACD,6B8E23,708090,778899,7B68EE,7CFC00,7FFF00,7FFFD4,800000,800080,808000,808080,87CEEB,87CEFA,8A2BE2,8B0000,8B008B,8B4513,8FBC8F,90EE90,9370DB,9400D3,98FB98,9932CC,9ACD32,A0522D,A52A2A,A9A9A9,ADD8E6,ADFF2F,AFEEEE,B0C4DE,B0E0E6,B22222,B8860B,BA55D3,BC8F8F,BDB76B,C0C0C0,C71585,CD5C5C,CD853F,D2691E,D2B48C,D3D3D3,D8BFD8,DA70D6,DAA520,DB7093,DC143C,DCDCDC,DDA0DD,DEB887,E0FFFF,E6E6FA,E9967A,EE82EE,EEE8AA,F08080,F0E68C,F0F8FF,F0FFF0,F0FFFF,F4A460,F5DEB3,F5F5DC,F5F5F5,F5FFFA,F8F8FF,FA8072,FAEBD7,FAF0E6,FAFAD2,FDF5E6,FF0000,FF00FF,FF00FF,FF1493,FF4500,FF6347,FF69B4,FF7F50,FF8C00,FFA07A,FFA500,FFB6C1,FFC0CB,FFD700,FFDAB9,FFDEAD,FFE4B5,FFE4C4,FFE4E1,FFEBCD,FFEFD5,FFF0F5,FFF5EE,FFF8DC,FFFACD,FFFAF0,FFFAFA,FFFF00,FFFFE0,FFFFF0,FFFFFF".split(","),n=0,i=t.length;i>n;n++)e[t[n]]="#"+r[n];return e}(),C=P.timer=b({a:"events",e:{delay:0,count:"infinite",interval:0,timeout:0},f:{now:function(){return(new Date).getTime()}},i:{t0:0,t1:0,t2:0,t3:0,t4:0,tid:f,tid2:f,state:"ready"},h:{clock:function(e){var t=this,r=C.now();switch(e){case-1:t._t0=r,t._t1=r,t._t2=t._t3=t._t4=0;break;case 0:t._t0=t._t1=t._t2=t._t3=t._t4=0;break;case 1:t.elapsedTime=r-t._t1-t._t2;break;case 2:t._t0=r,t._t2+=r-t._t3;break;case 3:t._t0=r,t._t1=r;break;case 4:t._t4=r-t._t0;break;case 5:t._t4=t.opts.delay;break;case 6:t._t2+=t.opts.delay}return t},startTimer:function(){var e=this.stopTimer(),t=e.opts,n=t.interval,i=t.timeout;return r(n)&&(n=S.timeUnit(n,"ms")),r(i)&&(i=S.timeUnit(i,"ms")),(i-=e._t4)>0&&(e._tid2=setTimeout(function(){e.stopTimer().emit("timeout").state("ready")},i)),e._tid=setInterval(function(){var r=t.count,n=e.clock(1).elapsedTime,i=++e.elapsedCount;"infinite"!==r&&i>=r?(e.stopTimer(),e.state("completed"),e.emit("progress complete",n)):e.emit("progress",n)},n),e.state("running")},stopTimer:function(){var e=this;return clearInterval(e._tid),clearTimeout(e._tid2),e}},j:{elapsedTime:0,elapsedCount:0,state:function(e){var t=this;return e===d?t._state:t.emit("stateChange",t._state=e)},count:function(e){return this.opt("count",e)},delay:function(e){return r(e)&&(e=S.timeUnit(e,"ms")),this.opt("delay",e)},set:function(e){var t=this;return p(["count","delay","interval","on"],function(r,n){n in e&&t[n](e[n])}),t},interval:function(e){var t=this;return t.opt("interval",e,function(){"running"==t._state&&t.startTimer()})},timeout:function(e){return this.opt("timeout",e)},start:function(){var e=this,t=e.opts,r=e._state,n=t.delay;return 0===t.count||"running"===r?e:("completed"==r?e.clock(-1):"paused"==r?e.clock(2):e.clock(3),(n-=e._t4)>0?(e.state("waiting"),e._tid=setInterval(function(){e.clock(6).startTimer()},n)):e.startTimer(),e.emit("start"))},pause:function(){var e=this,t=e.state(),r=C.now();if("waiting"==t)e.clock(4);else{if("running"!=t)return e;e.clock(5)}return e.stopTimer().state("paused")._t3=r,e.emit("pause")},stop:function(){return this.stopTimer().reset().emit("stop")},reset:function(){var e=this.clock(0);return e.elapsedTime=0,e.elapsedCount=0,e.state("ready")},remove:function(){this.stopTimer().reset()}},k:function(i,o){var a=this,s=f;return a instanceof C?(n(i)?s=i:e(i)&&(t(o)||r(o)?s={interval:o}:n(o)&&(s=o),a.on("progress",i)),a.set(a.init_opts(s)),void 0):new C(i,o).start()}}),P.analyzer=b({f:{}}),T=P.parser=b(function(){var e="arguments",t=w.alnum,r=w.blankChar,n=w.operatorChar;return{type:1,i:{text:"",size:0},f:{json:function(e){return(e+"").toObject()},unit:function(e){for(var r,n="",i="",o=0,a=0,s=e.length;s>o;o++)if((r=e.charAt(o))>="0"&&"9">=r)i+=r;else if("-"===r&&0==o)i+=r;else{if("."!==r)break;if(++a>1)break;i+=r}if(""===i||"-"===i)return f;for(;s>o;o++){if(!t(r=e.charAt(o))&&"%"!==r)return f;n+=r}return{type:"number",unit:n,value:float(i)}}},j:{skipWhiteSpace:function(e,t){for(;t>e&&r(this._text.charAt(e));e++);return e},hex:function(e){var r=this,n="",i=0,o=0,a={error:0,text:""};for(e++;e<r._size;e++){var s=r._text.charAt(e);if(!t(s)){e--;break}if(s.toLowerCase()>"f"){i=1;break}if(o>6){i=1;break}n+=s,o++}return 3!=o&&6!=o&&(i=1),a.text=n,a.endPos=e,a.error=i,a},keyword:function(e,r){var i=this,o=i._text.charAt(e),a="",s=0,u=2,c={text:""};for(2===r&&(e++,u=0);e<i._size;e++){var l=i._text.charAt(e);if(0===r){if(t(l)){a+=l;continue}}else if(1===r){if(l>="0"&&"9">=l){a+=l;continue}if(t(l)){s=1;break}}else{if(2===r){var f=i._text.charAt(e+1);if("\\"===l&&(f===l||f===o)){e++,a+=f;continue}if(l===o){e++,u=2;break}a+=l;continue}if(3===r){if(n(l)){a+=l;continue}}else if(4===r){if(t(l)||"-"===l||"."===l){a+=l;continue}}else if(5===r){if(t(l)||"-"===l){a+=l;continue}}else r!==l&&(a+=l)}break}return 2!=u&&(s=1),c.error=s,c.endPos=--e,c.text=a,c},htmlComment:function(e){var t=this,r=0,n={text:""},i=e;return-1===(i=t._text.indexOf("-->",e))?(r=1,i=t._size-1):(i+=2,n.text=t._text.substring(e,i+3)),n.endPos=i,n.error=r,n},argument:function(n,i){var o=this,a=0,s=0,u={};for(u[e]=[],i===d&&(i=")"),++n;n<o._size;n++){var c=o._text.charAt(n);if(","!==c){if(c===i){s=2;break}if(!r(c)){if(0!=s){a=1;break}var l=-1;if(c>=0&&9>=c)l=1;else if(t(c))l=0;else{if("'"!==c&&'"'!==c){a=1;break}l=2}var f=o.keyword(n,l);if(n=f.endPos,0!=f.error){a=1;break}u[e].push({type:l,text:f.text}),s=1}}else s=0}return 2!=s&&(a=1),u.error=a,u.endPos=n,u},pseudoClass:function(r,n){var i,o=this,a=0,s=0,u={};for(u[e]=[],++r;r<o._size;r++){var c=o._text.charAt(r);if(0!=a||!t(c)){if(1==a){if("("!==c){--r;break}0==(i=o.argument(r)).error?p(i[e],function(t,r){var i=r.text;n===!1&&2===r.type&&(i=i.retype()),u[e].push(i)}):s=1,r=i.endPos;break}s=1;break}if(u.name=(i=o.keyword(r,5)).text,r=i.endPos,0!=i.error){s=1;break}a++}return u.error=s,u.endPos=r,u},attribute:function(e){var t=this,i=0,o=0,a={type:0,name:"",operator:""};for(++e;e<t._size;e++){var s=t._text.charAt(e);if(!r(s)){if("]"==s)break;if(0==i){var u=t.keyword(e,4);if(e=u.endPos,0!=u.error){o=u.error;break}a.name=u.text,i++}else if(1==i)if(n(s))a.operator+=s;else{if(""==a.operator){o=1;break}e--,i++}else if(2==i){var c=0;('"'==s||"'"==s)&&(c=2);var l=t.keyword(e,c);if(e=l.endPos,0!=l.error){o=l.error;break}a.type=c,a.value=l.text,i++}else if(3==i){o=1;break}}}return a.error=o,a.endPos=e,a}},k:function(e,t){this._text=e,this._size=t===d?e.length:t}}}),P.cookie=b({f:{get:function(e){var t=P.cookie();if(!t&&!e)return f;var r=p(t,function(t,r){return(r=r.trim()).substring(0,e.length+1)==e+"="?decodeURIComponent(r.substring(e.length+1)):void 0},!1,";");return r==d?f:r},set:v(function(e,i,o){var a="",s="";if(r(i)||t(i)?s=i:n(i)&&o===d&&(o=i),n(o)){var u,c=o.value,f=o.expires,h=o.path,p=o.domain,m=o.secure;c!==d&&(s=c),f!==d&&(t(f)||r(f)?(u=new Date,u.setTime(u.getTime()+f)):f.toUTCString&&(u=f.toUTCString),a+="; expires="+u.toUTCString()),r(h)&&(a+="; path="+h),r(p)&&(a+="; domain="+p),m===!0&&(a+="; secure")}l.cookie=e+"="+F.encodeURI(s)+a
},{each:[n]}),remove:v(function(e,t){var r={expires:-1};t!==d&&m(r,t),P.cookie(e,0,r)},{each:[i,r]}),clear:function(e){var t=P.cookie;return p(t(),function(r,n){(n=n.split("=")).length>0&&t.remove(n[0],e)},!1,";"),t}},k:function(e,t,r){var i=P.cookie;return e===d?l.cookie||!1:t===d?n(e)?i.set(e):i.get(e):i.set(e,t,r)}}),F=P.url=b({type:1,f:{encodeURI:function(e){return encodeURIComponent(e+"")},location:function(e){var t=c.location;if(e===d){var n=t.protocol;return{url:t.href,port:t.port,scheme:n.substr(0,n.length-1),hostName:t.hostname,pathName:t.pathname}}return r(e)&&(c.location=e),F},param:function(e){if(r(e))return e;var t=[],i=F.encodeURI,o=function(e,r){n(r)?p(r,function(t,r){o(e+"["+t+"]",r)}):t.push(i(e)+"="+i(r))};return p(e,function(e,t){o(e,t)}),t.join("&")},suffix:b({"static":{img:function(e){return"png gif jpg jpeg bmp img tiff".split(" ").exist(e.toLowerCase())}},main:function(e){var t=e.lastIndexOf("."),r=e.length;if(-1!=t&&r-1>t){var n=e.substring(t+1,r);if(-1==n.indexOf("/"))return n}return""}})},j:{scheme:"",domain:"",port:80,path:"",file:"",suffix:"",queryString:"",hashString:"",addParam:v(function(e,t){var r,n=this,i="";t!==d?(r={},r[e]=t,i=F.param(r)):i=p(e,function(e,t){return""!=t?t:void 0},!0,"&").join("&");var o="queryString";return""!=n[o]&&(n[o]+="&"),n[o]+=i,n},{each:[n]}),toUrl:function(){var e=this,t="",r=e.domain,n=e.port,i=e.path;return t+=e.scheme+"://"+r,80!=n&&(t+=":"+e.port),F.location().hostName!==r||""!=i&&"/"===i.charAt(0)||(i=F(location.href).path+i),"/"!==i.charAt(0)&&(i="/"+i),t+=i+e.file,""!=e.queryString&&(t+="?"+e.queryString),e.hashString&&(t+="#"+e.hashString),t}},k:function(e){e==d&&(e=c.location.href);var t=this,r=e.length,n="",i=e.indexOf("#"),o=0;if(-1!=i&&(t.hashString=e.substring(i+1,r),e=e.substr(0,i),r=e.length),i=e.indexOf("://",0),-1==i){i=0;var a=F.location();t.scheme=a.scheme,t.domain=a.hostName,t.port=a.port||80}else t.scheme=e.substr(0,i).toLowerCase(),i+=3,o=e.indexOf("/",i),n=-1==o?e.substr(i,r-i):e.substr(i,o-i),i=n.indexOf(":",i),-1==i?t.domain=n:(t.port=~~n.substring(i+1,n.length),t.domain=n.substr(0,i));-1!=o&&(i=e.lastIndexOf("/"),t.path=e.substr(o,i-o),""!=t.path&&(t.path+="/"),o=e.indexOf("?",i),-1==o?t.file=e.substring(i+1,r):(t.file=e.substring(i+1,o),t.queryString=e.substring(o+1,r))),i=t.file.lastIndexOf("."),-1!=i&&(t.suffix=t.file.substring(i+1,t.file.length))}}),L=P.ajax=b({type:1,a:"events",e:{type:"get",cache:!0,async:!0,url:"#",data:"",delay:0,format:"text",polling:!1,timeout:0,username:"",password:"",dataType:"*",charset:"UTF-8",contentType:"application/x-www-form-urlencoded; charset=UTF-8",requestHeaders:0},f:{get:function(e,t){return L({url:e,type:"get",success:t})},post:function(e,t,r){return L({url:e,type:"post",data:t,success:r})},json:function(t,i,o){var a="get",s="",u="",c=f,l={cache:!1,dataType:"json",format:"json"};return n(t)?L(m(l,t)):r(t)?(e(i)?(s=t,c=i):e(o)&&(a="post",s=t,u=i,c=o),L(m(l,{type:a,url:s,data:u,success:c}))):L},load:function(t,i,o){var s="get",u="",c="",l=f;return a(t)?L():n(t)?L(t):(r(t)&&(u=t),e(i)?l=i:(n(i)||r(i))&&(s="post",c=i),e(o)&&(s="post",l=o),L({type:s,url:u,data:c,success:l}))}},i:{init:function(){var e=this;return"undefined"!=typeof XMLHttpRequest?e.http=new XMLHttpRequest:p(["Msxml2.XMLHTTP","Microsoft.XMLHTTP"],function(t,r){try{return e.http=new ActiveXObject(r),!1}catch(n){e.http=f}}),e}},j:{http:f,elapsed:0,status:function(){return this.http.status},statusText:function(){return this.http.statusText},type:function(e){return this.opt("type",e)},url:function(e){return this.opt("url",e)},data:function(e){return this.opt("data",e)},start:function(){return this.send()},stop:function(){var e=this;return e.opts.polling=!1,e.http.abort(),e},abort:function(){var e=this;return e.http.abort(),e},cache:function(e){return this.opt("cache",e)},accept:function(e){var t=this;if(e==d)return t.requestHeader("Accept");var r={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml,text/xml",json:"application/json,text/javascript",script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"};return t.requestHeader("Accept",r[e]||e)},responseText:function(){return this.http.responseText},responseContentLength:function(){return this.responseHeader("Content-Length")},responseUrl:function(){return this.http.responseUrl},responseHeader:function(e){var t=this,n=t.http;return e===d?n.getAllResponseHeaders()||f:r(e)?n.getResponseHeader(e)||f:void 0},requestHeader:v(function(e,t){var r=this,n=r._requestHeader;return t===d?n[e]:(n[e]=t,void 0)},{each:[n,i]}),send:function(){var e=this,t=e.http,r=e.opts,n=r.type.toLowerCase(),a=F(r.url),s=r.data,u=C.now(),c=r.timeout,l=f;return"get"==n&&(""!=s&&a.addParam(s),0==r.cache&&a.addParam("_",u)),t.open(n,a.toUrl(),r.async,r.username,r.password),t.setRequestHeader("Content-Type",r.contentType),t.onreadystatechange=function(){e.emit("readyStateChange",t);var n=t.readyState;if(3==n)e.emit("progress",t);else if(4==n){e.elapsed=C.now()-u;var i=t.status;if(i>=200&&300>i||304===i){var o=t.responseText;switch(r.format){case"json":o=T.json(o);break;case"text":o+=""}e.success(),e.emit("success",o)}else e.failed(),e.emit("failed",t);r.polling===!0&&v(function(){e.send()},r.delay)(),l!==f&&(clearTimeout(l),l=f),e.complete(),e.emit("complete",t)}},e.accept(r.dataType),p(e._requestHeader,function(e,r){t.setRequestHeader(e,r)}),e.emit("beforeSend"),"post"==n?((i(s)||o(s))&&(s=F.param(s)),t.send(s)):t.send(f),c>0&&(l=setTimeout(function(){e.emit("failed timeout",t).abort()},c)),e.emit("afterSend")}},l:function(e,t){p("complete success failed",function(e,r){t[r]=function(e){return this.on(r,e)}})},k:function(t){var i=this,o=i.init_opts(t);i._requestHeader={},i._init(),p("success failed timeout complete readyStateChange",function(t,r){e(o[r])&&i.on(r,o[r])}),i.requestHeader(o.requestHeader),n(t)?i.send():r(t)&&(i.url(t),i.send())}}),P.websocket=b({a:"events",e:{host:top.location.hostname||"localhost",port:3e3,path:"",url:""},h:{initEvents:function(){var e=this,t=e.socket;return m(t,{onopen:function(r){e.emit("open",r),1===t.readyState&&0!==e.sendQueue.length&&(e.sendQueue.each(function(e,r){t.send(r)}),e.sendQueue.clear())},onmessage:function(t){e.emit("message",t)},onerror:function(t){e.emit("error",t)},onclose:function(t){e.emit("close",t),e.socket=f}}),e}},j:{connect:function(t){var i=this,o=i.opts,a=f;if(n(t))i.init_opts(t),i.url="ws://"+o.domain+":"+o.port+"/"+o.path;else{if(!r(t))return i;var s=F(t);i.init_opts({host:s.domain,port:s.port,path:s.path}),i.url=t}return e(WebSocket)?a=new WebSocket(i.url):e(MozWebSocket)&&(a=new MozWebSocket(i.url)),i.socket=a,i.initEvents().emit("connect")},send:function(e){var t=this,r=t.socket;if(r!==f){var n=r.readyState;0===n?t.sendQueue.push(e):1===n&&r.send(e)}return t},close:function(e,t){var r=this,n=r.socket;return n!==f&&(n.close(e,t),r.socket=f),r},readyState:function(){var e=this,t=e.socket;return t===f?3:t.readyState}},k:function(e){var t=this;t.sendQueue=[],n(e)?r(e.url)?t.connect(e.url):(e.on&&t.on(e.on),t.connect(e)):r(e)&&t.connect(e)}}),z=P.loader=b({a:"events",f:{css:function(e,t){return z.loadByElement("css",e,t)},js:function(e,t){return z.loadByElement("js",e,t)},image:v(function(t,r){var n=new Image;return e(r)?(n.onload=function(){r.call(n,!0,n),n.onload=f},n.onerror=function(){r.call(n,!1,n),n.onerror=f},n.src=t,void 0):(n.src=t,void 0)}),loadByElement:v(function(t,r,n){var i,o=function(t){e(n)&&n.call(i,!0,t)};t!==d&&("css"===t?i=newDom("link").attr({type:"text/css",rel:"stylesheet",href:r}):("js"===t||"json"===t)&&(i=newDom("script").attr({src:r,async:"async"})),"onload"in i.dom||"onreadystatechange"in i.dom?i.on("load readystatechange",function(){var e=i.readyState();e&&"loaded"!==e&&"complete"!==e||(i.off(),o("css"==t?i.sheetText():""))}):"css"===t&&C({interval:10,timeout:"10s",on:{progress:function(){try{var e=i.sheetText();a(e)||(this.stop(),o(e))}catch(t){}},timeout:function(){}}}),i.appendTo("head"))},{each:[i]})},i:{basePath:""},j:{safe:!0,length:0,success:0,failed:0,basePath:function(e){var t=this;return r(e)?("/"!==e.right(1)&&(e+="/"),t._basePath=e,t):t._basePath},load:v(function(t,o,s){var u=this,c="",l="",h=f;return n(t)?(l=t.url,c=t.type,h=t.callback):r(t)&&o===d?l=t:r(t)&&i(o)?p(o,function(e,n){r(n)&&u.append(t,n,s)}):s===d?e(o)?(l=t,h=o):r(o)&&(c=t,l=o):r(t)&&r(o)&&(c=t,l=o,h=s),a(c)&&(c=F(l).suffix),u.append(c,l,h)},{each:[i]}),include:function(){for(var e=this,t=arguments,n=function(t){for(var r=new x,n=t.length,i=0;n>i;i++)r.push(function(){var n=t[r.pos];e.load(n,function(){r.next()})});r.go()},o=0,a=t.length;a>o;o++){var s=t[o];r(s)?e.load(s):i(s)&&n(s)}return e},clear:function(){var e=this.off();return e.length=0,e.success=0,e.failed=0,e.callbacks=[],e._queue={},e},append:v(function(t,r,n){function o(e){0!=c.length&&(e===!0?(g.state=1,c.success++,c.emit("success",g)):(g.state=2,c.failed++,c.emit("failed",g)),p(g.callbacks,function(e,t){t.call(c,g)}),c.emit("progress",g),c.success+c.failed==c.length&&c.emit("complete"))}function a(e){z.loadByElement(t,r,function(t,r){e&&(g.data=r,o(t))})}function s(){m?a(!0):("anim"===t&&H.append(g.data),o(!0))}function u(){F.suffix.img(t)?z.image(r,function(e){g.data=this,o(e)}):0!=h||m&&!c.safe?m?a(!0):z.image(r,function(){o(!0)}):L({cache:!0,url:r,success:function(e){g.data=e,s()},failed:function(){o(!1)}})}var c=this;-1===r.indexOf("://")&&"/"!==r.left(1)&&(r=c._basePath+r);var d=c._queue[t],h=!1,m="css"===t||"js"===t||"json"===t,g={url:r,data:f,state:0,callbacks:[]};i(d)||(d=c._queue[t]=[]);for(var b=0,y=d.length;y>b;b++){var k=d[b];if(k.url===r)return e(n)&&(1==k.state&&n.call(c,k),k.callbacks.push(n)),c}return e(n)&&g.callbacks.push(n),F(r).domain!==l.domain&&(h=!0),d.push(g),c.length++,v(u,0)(),c},{each:[i,n]}),remove:v(function(t,n,i){var o=this,a=o._queue;if(t===d)return o.clear();if(t in a){var s=a[t],u=s.length,c=function(e){for(var t=e.length;t>=0;t--)if(e[t]===i){e.remove(t);break}};if(n===d)for(;u>=0;u--)s[u].callbacks.clear(),s.remove(u);else if(r(n))for(;u>=0;u--)if(s[u].url===n){var l=s[u].callbacks;e(i)?c(l):(l.clear(),s.remove(u));break}}},{each:[i,n]})},k:function(e){var t=this;if(!(t instanceof z)){var n=new z;return n.load.apply(n,arguments)}t.clear(),r(e)&&t.basePath(e)}}),P.source=b(function(){return{f:{source:{},loaded:{},load:function(){}},k:function(e,t){P.source[e]=t}}}),P.use=b({e:{},f:{},j:{},k:function(){}}),E=P.template=b({a:"events",f:{templates:{},append:v(function(e,t){t instanceof E&&(E.templates[e]=t)},{each:[i,n]}),remove:v(function(e){if(e===d)for(var t in E.templates)delete E.templates[t];else r(e)&&delete E.templates[e]},{each:[i]})},i:{renderTo:f},h:{analyze:function(){var e=this,t=e.analyzer,r=t.analyze(e.tpl);return 0!=t.error?(e.error=1,e.emit("error","analyzeError"),!1):r},compile:function(){var e=this,t=e.compiler.compile();return 0!=e.compiler.error?(e.error=2,e.emit("error","compileError"),!1):t},build:function(e){var t=this;return 0==t.error&&n(e)?t.builder.build(e):f}},j:{error:0,render:function(e){var t=this,r=t.build(e),n=t._renderTo;return n!==f&&n.html(r),r},renderTo:function(e,t){var r=this,n=D(e);return n&&n.html(r.build(t)),r},loadFromString:function(e){var t=this,r=t.analyze(t.tpl=e);return r!==!1&&(t.compile(r),t.emit("load")),t},loadFromElement:function(e){var t=this,r=t._dom=D(e);if(r!==f){var n=r.attr("std-name"),i=r.attr("render-to"),o=r.attr("render-url");a(n)||E.append(n,t),a(i)||(t._renderTo=D(i)),a(o)||(t._renderUrl=o,t.refresh()),t.loadFromString(r.html())}return t},loadFromUrl:function(t,n){var i=this;return L.get(t,function(t){r(t)&&i.loadFromString(t),e(n)&&n.call(i,t)}),i},refresh:function(){var e=this,t=e._dom,r=e._renderUrl;return!a(r)&&t&&L.json({url:r,cache:!1,success:function(r){var n=e.render(r),i=t.attr("render-here");"true"==i&&(t.parent().insertBefore(n,t),t.remove())}}),e}},k:function(e,t){var i=this,o=h.template;return i instanceof E?(i.analyzer=new E.analyzer(i),i.compiler=new E.compiler(i),i.builder=new E.builder(i),i.compressLevel=o.compressLevel,i.cache=o.cache,i.maxCacheSize=o.maxCacheSize,t===d?t=e:E.append(e,i),r(t)?i.loadFromString(t):n(t)&&(t.cache&&(i.cache=t.cache),t.maxCacheSize&&(i.maxCacheSize=t.maxCacheSize),t.compressLevel&&(i.compressLevel=t.compressLevel),t.on&&i.on(i.on),t.text?i.loadFromString(t.text):t.element?i.loadFromElement(t.element):t.url&&i.loadFromUrl(t.url),i.once("load",t.renderTo)),void 0):r(e)?t===d?E.templates[e]||f:new E(e,t):f}}),E.statements={"#else":function(){return"}else{"},"#elseif":function(e,t){return"}else if("+this.fixCode(e,t)+"){"},"#break":function(){return"break;"},"#continue":function(){return"continue;"},"with":function(e,t,r){return"if(typeof("+this.fixCode(e,t)+")!=='undefined'){"+r+"}"},"if":function(e,t,r){return"if("+this.fixCode(e,t)+"){"+r+"}"},"for":function(e,t,r){return"for("+this.fixCode(e,t)+"){"+r+"}"},"while":function(e,t,r){return"while("+this.fixCode(e,t)+"){"+r+"}"},each:function(e,t,r){var n,i,o=[],s=e,u=0,c="";if(-1!==(i=e.indexOf(" as ",1))){s=e.substr(0,i).trim();var l=e.length,f="";for(i+=4;l>i;i++)if(w.blankChar(n=e.charAt(i)));else if(w.alnum(n))f+=n;else{if(","!==n){u=20,c=n;break}o.push(f),f=""}""!==f&&o.push(f)}return w.validAlNum(s)||(u=21,c=s),a(o)&&(o=["index","value"]),"Std.each("+this.varName(s,t)+",function("+o.join(",")+"){"+r+"});"}},E.analyzer=b({h:{parse:function(e){var t,r,n=this,i=f,o=0,a={},s=n.tplLength,u=n.parser,c="",l=0;switch(t=n.tpl.charAt(e+1)){case"=":case"$":e++;case"#":case"/":i=t}for((a.type=i)!==f&&"="!==i&&"$"!==i&&(0==(r=u.keyword(e+2,0)).error?a.keyword=r.text:l=1,e=r.endPos),++e;s>e;e++)if("\n"!==(t=n.tpl.charAt(e))||0!==o)if(";"!==t&&"{"!==t&&"}"!==t)if(0!==o&&w.blankChar(t))"\n"===t&&n.currentLine++;else{if(o=0,"?"===t&&">"===n.tpl.charAt(e+1)){e++;break}if('"'===t||"'"===t){if(e=(r=u.keyword(e,2)).endPos,0!==r.error){l=1;break}c+=t+_.escapeString(r.text,t)+t}else c+=t}else o=2,c+=t;else o=1,c+="\n",n.currentLine++;return a.text=c.trim(),a.error=l,a.endPos=e,a}},j:{append:function(e,t){var r=this;return 0===t&&(e=_.escapeString(e,"'")),r.result.push({type:t,line:r.currentLine,data:e}),r},analyze:function(e){var t,r,n,i=this.clear(),o=i.tplLength=e.length,a=i.parser=T(i.tpl=e,o),s="",u=0;for(t=0;o>t;t++)if("<"===(r=e.charAt(t)))if("?"===(r=e.charAt(t+1))){if(t=(n=i.parse(t+1)).endPos,0!==n.error){u=1;break}i.append(s,0).append(n,1),s=""}else if("!"===r&&"-"===e.charAt(t+2)&&"-"===e.charAt(t+3)){if(t=(n=a.htmlComment(t)).endPos,s+=n.text,0===n.error){u=2;break}i.currentLine+=n.text.count("\n")}else t++,s+="<"+r;else"\n"===r&&i.currentLine++,s+=r;return i.error=u,i.endPos=t,i.append(s,0),i.result},clear:function(){var e=this;return e.endPos=0,e.error=0,e.currentLine=0,e.result.clear(),e}},k:function(e){this.parent=e,this.result=[]}}),E.builder=b({h:{},j:{exec:function(e){var t=this.compiler.result;try{return t(e)}catch(r){}return""},build:function(e){var t=this,n=t.caches;if(r(e)&&(e=e.toObject()),!t.parent.cache)return t.exec(e);for(var i=0,o=t.cacheSize;o>i;i++)if(n[i].data===e)return n[i].text;t.cacheSize>t.parent.maxCacheSize?t.clearCache():t.cacheSize++;var a=t.exec(e);return n.push({data:e,text:a}),a},clearCache:function(){var e=this;return e.caches=[],e.cacheSize=0,e}},k:function(e){this.parent=e,this.clearCache().compiler=e.compiler}}),E.compiler=b({h:{},j:{varName:function(e,t){return t===d?e:t+"."+e},printText:function(e){return"_print+='"+e+"';"},printVariable:function(e,t){if(""===e)return e;var r=this.varName(e,t);return"if(typeof("+r+")!=='undefined'){_print+="+r+"}"},makeFunction:function(e){var t="var _print='';"+e+"\nreturn _print";return P.eval("(function(){return function(_data){"+t+"}})()")},fixCode:function(e,t){for(var r=this,n=e.length,i=T(e,n),o="",a=r.variables,s=0,u=0;n>u;u++){var c=e.charAt(u),l=f;if(w.blankChar(c))o+=c;else if(";"!==c&&"{"!==c&&"}"!==c&&"&"!==c&&"|"!==c){if('"'===c||"'"===c)l=2;else if(c>="0"&&"9">=c)l=1;else if(w.alnum(c))l=0;else{if(!w.operatorChar(c)){o+=c;continue}l=3,s=0}var d=i.keyword(u,l),h=d.text||"";0===l&&"var"===h&&(s=1),2===l&&(h=c+_.escapeString(h,c)+c),0===l&&"."!==e.charAt(u-1)?w.keyword(h)?o+=h:0===s||2===s?o+=a.exist(h)?h:r.varName(h,t):1===s&&(a.push_uniq(h),o+=h):3===l&&"="===h?(s=2,o+=h):o+=h,2===s&&"="!==h&&(s=1),u=d.endPos}else o+=c,s=0}return o},compileLogicSyntax:function(e,t,r){var n,i,o=this,a=t.keyword,s=t.text,u="",c=1,l=a+" "+s,f=E.statements;for("with"===a&&(r=o.fixCode(s,r)),o.i++;o.i<o.analyzeLength;o.i++){var d=o.analyzeResult[o.i],h=d.data,p=d.type;if(1===p&&"/"===(i=h.type)&&h.keyword===a)return f[a].call(o,s,r,u,e);if(1===p&&"#"===i)if(i+(n=h.keyword)in f)u+=f[i+n].call(o,h.text,r);else{if(!f[n]){c=2,l=n;break}u+=o.compileItem(d,r)}else u+=o.compileItem(d,r)}return!1},compileItem:function(e,t){var r=this,n=f,i=e.data;if(1===e.type){var o=i.type;o?"="===o?n=r.printVariable(i.text,t):"$"===o?n=r.printVariable(i.text):"#"===o&&(n=r.compileLogicSyntax(e,i,t)):n=i.text+"\n"}else a(i)||(n=r.printText(i));return n},compile:function(){for(var e=this.clear(),t="",r="",n=e.analyzeLength=e.analyzeResult.length;e.i<n;e.i++)null!==(r=e.compileItem(e.analyzeResult[e.i],"_data"))&&(t+=r);return this.result=e.makeFunction(t)},clear:function(){var e=this;return e.i=0,e.error=0,e.result="",e.variables=[],e.analyzeResult=e.analyzer.result,e}},k:function(e){var t=this;t.parent=e,t.analyzer=e.analyzer,t.clear()}}),H=P.animation=b({a:"events",f:{data:{keyframes:{}},append:v(function(e,t){if(n(e)&&(e=D(e).html()),r(e)){var i=H.parser(e),o=H.data.keyframes;p(i.keyframes,function(e,r){var n=r.name,i=r.rules;t!==!1&&N.keyframes(n,i),o[n]=i})}},{each:[i]}),remove:v(function(e){r(e)&&delete H.data.keyframes[e]},{each:[i]})},i:{},j:{},k:function(){}}),H.timingFunction=b({f:{linear:[0,0,1,1],ease:[.25,.1,.25,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1],snap:[0,1,.5,1],"cubic-bezier":function(e,t,r,n){function i(e){return((l*e+c)*e+u)*e}function o(e){return((h*e+d)*e+f)*e}function a(e){return(3*l*e+2*c)*e+u}function s(e){for(var t,r,n,o,s=0,u=e;8>s;s++){if(p(n=i(u)-e)<m)return u;if(p(o=a(u))<m)break;u-=n/o}if((u=e)<(t=0))return 0;if(u>(r=1))return 1;for(;r>t;){if(p((n=i(u))-e)<m)return u;e>n?t=u:r=u,u=.5*(r-t)+t}return u}var u=3*e,c=3*(r-e)-u,l=1-u-c,f=3*t,d=3*(n-t)-f,h=1-f-d,p=Math.abs,m=1e-6;return function(e){return o(s(e))}}},k:function(e){var r=f,n="cubic-bezier",o=H.timingFunction;i(e)?r=e:(e=e.trim()).left(12)===n?r=p(e.between("(",")",11).split(","),function(e,t){return float(t.trim())},!0):e in o&&(r=o[e]),r===f&&(r=o.linear);for(var a=0;4>a;a++)t(r[a])?r[a]>1&&(r[a]=1):r[a]=0;return o[n].apply(this,r)}}),H.parser=b({f:{value:function(e){function t(e,t){var r=t.length,n=[];if("rgb"===e&&3!=r||"rgba"===e&&4!=r)return!1;for(var i=0;r>i;i++){var o=t[i];if("number"!==o.type||!w.number(o.value))return!1;n[i]=float(o.value)}var a={r:n[0],g:n[1],b:n[2]};return 4==r&&(a.a=n[3]),{type:"color",unit:e,value:a}}function r(e){for(var t=0,r="",n="",i=[],o=function(){1==s&&(r+="<?=v"+t++ +"?>",i.push(~~n),n="",s=0)},a=0,s=0,u=e.length;u>a;a++){var c=e.charAt(a);c>="0"&&"9">=c?(0==s&&s++,n+=c):(o(),r+=c)}return o(),{type:"text",tpl:E(r),value:i}}function n(r){var n,i=e.charAt(u+1);if("("===i){u+=2;var a=o();return a===!1?a:"rgb"===r||"rgba"===r?t(r,a):{type:"function",name:r,value:a}}return"%"===i&&++u&&(r+=i),w.number(r)?{type:"number",value:float(r),unit:f}:(n=T.unit(r))!==f?n:r in S.colors?{type:"color",unit:"rgb",value:d(S.colors[r])}:{type:"string",value:r}}function i(e){if("#"===e){var t=l.hex(u);if((u=t.endPos)&&0==t.error)return{type:"color",unit:"rgb",value:d(t.text)}}else if('"'===e||"'"===e){var i=l.keyword(u,2);if((u=i.endPos)>-1&&0==i.error)return r(i.text)}else if(w.alnum(e)||"-"===e||"."===e){var o=l.keyword(u,4);if((u=o.endPos)>-1&&0==o.error){var a=n(o.text);if(a!==!1)return a}}return!1}function o(){for(var t,r=[];c>u&&")"!==(t=e.charAt(u));u++)if(w.blankChar(t))u=l[h](u,c)-1;else if(","!==t){var n=a();if(n===!1)return!1;1==n.length?r.push(n[0]):r.push({type:"array",value:n})}return r}function a(){for(var t,r=[];c>u;u++){if(")"===(t=e.charAt(u))||","===t){u--;break}if(w.blankChar(t))u=l[h](u,c)-1;else{var n=i(t);if(n===!1)return!1;r.push(n)}}return r}var s,u=0,c=(e+="").length,l=new T(e,c),d=S.hex2rgb,h="skipWhiteSpace",p=a();return p===!1?f:(1===p.length?(s=p[0],s.text=e):s={type:"array",value:p,text:e},s)}},k:function(e,t,r){function n(){var t="";for(y++;c>y;y++){var r=e.charAt(y);if("]"===r)break;if(!w.operatorChar(r))return!1;t+=r}return t}function i(){var t,r="",i="",o="",a={},s=0;for(y++;c>y;y++)if("}"===(t=e.charAt(y))||3==s&&";"===t){if(3===s){if("animation-timing-function"===r)a[r]=i;else{var u=H.parser.value(i);if(u===f)return!1;u.operator=o,a[r]=u}r=i=o="",s=0}if("}"===t)break}else if(3>s&&b(t))y=l[v](y,c)-1,0==s&&s++;else if(1==s)if(":"===t)s++;else if("["===t){if(o=n(),o===!1)return!1}else{if("-"!==t&&!g(t))break;r+=t}else if(2==s)b(t)&&(y=l[v](y,c)),y--,s++;else if(3!=s||'"'!==t&&"'"!==t)3==s?i+=t:0===s&&(s++,y--);else{var d=l.keyword(y,2);if((y=d.endPos)&&0!==d.error)return!1;i+=t+_.escapeString(d.text,t)+t}return a}function o(t){for(var r,n,o="";c>y;y++)if("%"===(r=e.charAt(y))||","===r||"."===r||g(r))o+=r;else{if(!b(r)){if("{"===r)break;return!1}y=l[v](y,c)-1}return(n=i())!==!1?p(o,function(e,r){(r=S.percent(r))!==f&&(t[r]=m(t[r]||{},n))},!1,","):!1}function a(t){var r,n=l.keyword(y,0),i={};for(y=n.endPos+1;c>y&&"{"!==(r=e.charAt(y));y++)if(!b(r))return!1;for(y++;c>y&&"}"!==(r=e.charAt(y));y++)if(g(r)){if(o(i)===!1)return!1}else if(!b(r))return!1;return t.name=n.text,t.rules=i,!0}function s(){if(!g(e.charAt(++y)))return!1;var t,r=l.keyword(y,0);if("keyframes"!==r.text)return!1;for(y=r.endPos+1;c>y;y++){if(g(t=e.charAt(y))){var n={};if(a(n)===!1)return!1;h.keyframes.push(n);break}if(!b(t))return!1}return!0}for(var u,c=r===d?e.length:r,l=T(e,c),h={error:0,endPos:0,keyframes:[]},v="skipWhiteSpace",g=w.alnum,b=w.blankChar,y=t===d?0:t;c>y;y++)if("@"===(u=e.charAt(y))){if(s()===!1){h.error=1;break}}else if(!b(u)){h.error=1;break}return h.endPos=y,h}}),H.keyframes=b(function(){function e(e,t){return e===u?t:H.parser.value(t)}function t(e){for(var t=0,r="",n="",i=0,o=e.length;o>i;i++){var a=e.charAt(i);if("["===a){if(0==t){t++;continue}break}if("]"===a)break;if(1===t&&w.operatorChar(a))n+=a;else{if(0!==t)break;r+=a}}return{name:r,operator:n}}function o(e){if(e in l)return l[e];var t=N.keyframes(e);return t!==f?(H.append(t,!1),l[e]):f}var a="_timingFunction",s="_defaultProperty",u="animation-timing-function",c=H.timingFunction,l=H.data.keyframes;return{a:"events",e:{fps:60,delay:0,fillMode:"forwards",duration:0,direction:"normal",iterationCount:1,iterationDelay:!1,timingFunction:"linear"},i:{timer:f,state:"ready",stage:0,count:0,rules:f,stages:f,percents:f,property:f,backward:!1},f:{query:o},h:{backward:function(e){var t=this;return e===d?"alternate"===t.opts.direction&&t._count%2?!0:!1:(t._backward=e,t)},progress:function(e,t,r){var n=this,i=n._stageTimingFunc(t),o=n.updateValues(e.begin,e.end,e.from,e.to,i,r);return n.emit("progress",[o,r],!0)},stage:function(e){var t=this;if(e===d)return t._stage;var r=t._stageData=t._stages[e];return t._backward=t.backward(),t._stage=e,t._stageBegin=r.begin,t._stageEnd=r.end,t._stageTimingFunc=r.timingFunction||t[a],t},complete:function(){var e=this,t=e.opts,r=e._timer,n=e._backward,i=e._stageLength,o=t.fillMode,a=t.iterationCount,s=t.iterationDelay;return++e._count<a||"infinite"===a?(e.stage(e.backward()?i-1:0),r.stop().reset(),s||(r._t4=r.delay()),r.start(),e.emit("iteration",e._count)):("none"==o||n?e.progress(e._stages[0],0,100):"forwards"==o&&e.progress(e._stages[i-1],1,100),r.stop(),e._state="completed",e.stage(i-1).emit("complete")),e},findNextValue:function(e,t){for(var r,n=this,i=n._rules,o=n._percents,a=n[s],u=f,c=t||0,l=o.length;l>c;c++)if((r=i[o[c]][e])!==d){u=r;break}return u===f&&a&&e in a&&(u=a[e]),u},loadRules:function(i){var a=this,s={},c=[],l=a._property={},h=!1,p=!0;if(r(i)){if(!(i=o(i)))return a;p=!1}else n(i)&&(h=!0);for(var m in i){var v=i[m],g={};if(!((m=S.percent(m))===f||m>100||0>m)){c.push(m);for(var b in v){var y=p?e(b,v[b]+""):v[b],k=b;if(h){var x=t(k);k=x.name,y.operator=x.operator}g[k]=y,g[k]["%"]=m,l[k]===d&&b!==u&&(l[k]=y)}s[m]=g}}return 100 in s||(s[100]={},c.push(100)),a._rules=s,a._percents=c.order("asc"),a},computeValue:function(e,t,r){if(!(e in t&&e in r))return t[e];var n=t[e].operator,i=t[e].value,o=r[e].value,a=function(e,t){return"+"===n?e+=t:"-"===n?e=t-e:"*"===n?e*=t:"/"===n&&(e=t/e),e};switch(t[e].type){case"number":t[e].value=a(i,o)}return t[e]},formatStages:function(){for(var e=this,t=e._rules,r=e._stages=[],n=e._percents,i=e._timefns={},o=n[0],a=0,l=m({},e[s]||(0==o?t[o]:{})),d=l,h=0,p=n.length;p>h;h++){var v=n[h],g=t[v],b=r[h]={begin:a,end:v,from:m({},d),to:{},timingFunction:f};u in d&&(i[a]=b.timingFunction=c(d[u]),delete d[u]);for(var y in g)l[y]=e.computeValue(y,g,d);for(y in l){var k=f;if(y in g)k=g[y];else if((k=e.findNextValue(y,h+1))===f)continue;b.to[y]=k}d=l,a=v}return e},updateValues:function(e,t,r,n,i,o){function s(r,n,s,u,c){if(t!==u||e!==s){var l=g._timefns[s]||g[a];return(r+(n-r)*l((o-s)/(u-s))).float(c)}var f=n-r,d=u-s,h=Math.over(e-s,d),p=Math.over(t-s,d);return(r+(h*f+(p-h)*f*i)).float(c)}function u(r,n,o,a){return o+(a-o)/2>e+(t-e)*i?r.value:n.value}function c(e,t,r,n){return t.name+"("+m(e,t,r,n,",")+")"}function l(e,t,r,n){var i=t.unit,o="px"===i||"deg"===i?0:4,a=s(e.value,t.value,r,n,o);return i===f?a:a+i}function h(e,t,r,n){var i=e.value,o=t.value,a=t.unit,u=[s(i.r,o.r,r,n),s(i.g,o.g,r,n),s(i.b,o.b,r,n)],c={r:u[0],g:u[1],b:u[2]};return"rgba"===a&&(i.a===d&&(c.a=1),u.push(c.a=s(i.a,o.a,r,n))),a+"("+u.join(",")+")"}function p(e,t,r,n){for(var i=e.value,o=t.value,a={},u=0,c=i.length;c>u;u++)a["v"+u]=s(i[u],o[u],r,n);return e.tpl.render(a)}function m(e,t,r,n,i){for(var o=e.value,a=t.value,s=[],u=0,c=a.length;c>u;u++){var l=a[u];l!==d&&s.push(v(o[u],l,r,n))}return s.join(i||" ")}function v(e,t,r,n){var i=t.type,o="";return e===d||t===d?"":(e.type!==i||("number"===i?o=l(e,t,r,n):"string"===i?o=u(e,t,r,n):"color"===i?o=h(e,t,r,n):"text"===i?o=p(e,t,r,n):"array"===i?o=m(e,t,r,n):"function"===i&&(o=c(e,t,r,n))),o)}var g=this,b={};for(var y in n){var k=r[y],x=n[y];if(k!=d&&x!=d)b[y]=v(k,x,k["%"]||0,x["%"]||100);else if(1===i&&x!==d){var w=x["%"];b[y]=v(x,x,w,w)}}return b}},j:{elapsedTime:0,fps:function(e){return this.opt("fps",e)},iterationCount:function(e){return this.opt("iterationCount",e)},iterationDelay:function(e){return this.opt("iterationDelay",e)},fillMode:function(e){return this.opt("fillMode",e)},duration:function(e){return r(e)&&(e=S.timeUnit(e,"ms")),this.opt("duration",e)},direction:function(e){return this.opt("direction",e)},delay:function(e){return this.opt("delay",e,function(){this._timer.delay(e)})},timingFunction:function(e){var t=this;return e===d?t[a]:(t[a]=c(e),t)},state:function(e){var t=this;return e===d?t._state:(t._state=e,t)},rules:function(e){var t=this;return e===d?t._rules:t.loadRules(e)},pause:function(){return this._timer.pause(),this.emit("pause")},stop:function(){var e=this;return e._timer.stop(),e.reset().emit("stop")},start:function(){var e=this,t=e.opts,r=t.duration,n=Math.ceil(1e3/t.fps);if("completed"==e._state&&e.reset(),e._stages===f){if(e._rules===f)return e;e.formatStages(),e.stage(0),e._stageLength=e._stages.length}return e._timer.interval(n>r?r:n).start(),e.emit("start")},reset:function(){var e=this;return e.stage(0),e._count=0,e._timer.reset(),e},clear:function(){var e=this;return e._count=0,e._property=f,e._rules=f,e._stage=0,e._stages=f,e._percents=f,e._timefns=f,e._timer.reset(),delete e._stageData,delete e._stageBegin,delete e._stageEnd,delete e._stageTimingFunc,e},remove:v(function(e){var t=this;e===d&&(t.clear(),t._timer.remove())},{each:[i]}),defaultProperty:function(t){var r=this;return t===d?r[s]:(r[s]=p(t,e,!0),r)}},k:function(e){var t=this,r=t.init_opts(e);"on"in r&&t.on(r.on),"rules"in r&&t.rules(r.rules),t.duration(r.duration),t.timingFunction(r.timingFunction),t._timer=new C(function(){var e=t._backward,n=t._stageData,i=t._stageBegin,o=t._stageEnd,a=r.duration,s=t.elapsedTime=this.elapsedTime,u=100*(s/a);s>=a?t.complete():!e&&u>=o?t.progress(n,1,o).stage(t._stage+1):e&&i>=100-u?t.progress(n,0,i).stage(t._stage-1):e?(u=100-u,t.progress(n,(u-i)/(o-i),u)):t.progress(n,(u-i)/(o-i),u)},{delay:r.delay,on:{stateChange:function(e){t._state=e}}})}}}),H.keyframes.united=P.unite(H.keyframes),N=P.css=b({type:1,f:{keyframes:function(e,t){var i=l.styleSheets,o=P.init.anim;if(!o||e===d||!i)return f;if(n(t)){var a=N(),s="@"+o+" "+e+"{",u=P.init.cssName;for(var c in t)s+=S.percent(c)+"%{",p(t[c],function(e,t){e in u&&(e=u[e]),s+=e+":"+(r(t)?t:t.text)+";"}),s+="}";return s+="}",a.sheet.insertRule(s,0),N}for(var h=0;h<i.length;h++)for(var m=i[h].cssRules||i[h].rules,v=0;v<m.length;v++){var g=m[v];if(g.name===e&&7===g.type){for(var b="",y=g.cssRules||g.rules,k=0;k<y.length;k++)b+=y[k].cssText;return"@keyframes "+e+"{"+b+"}"}}return f}},j:{length:0,enable:function(e){var t=this,r=t.sheet;return e===d?!r.disabled:(r.disabled=!e,t)},source:function(){for(var e=this,t=e.rules,r="",n=0;n<e.length;n++)r+=t[n].selectorText+"{"+t[n].style.cssText+"}";return r},insert:function(e,t,i){var o=this,a=o.sheet,s="";if(n(t)){var u=P.init.cssName;p(t,function(t,a){if((">"===t||" "===t)&&n(a))return p(a,function(r,n){o.insert(e+t+r,n,i)}),void 0;if(t in u&&(t=u[t]),t in N.hooks){var c=N.hooks[t](a);r(c)?s+=c:n(c)&&(s+=c.name+":"+c.value+";")}else s+=t.unCamelCase()+":"+a+";"})}else r(t)&&(s=t);return""===e||""===s||w.ie(6)&&-1!==e.indexOf(">")?void 0:(a.insertRule?a.insertRule(e+"{"+s+"}",i):a.addRule&&a.addRule(e,s,i),o.length++,o)},append:v(function(e,t){this.insert(e,t,this.length)},{each:[i,n]}),remove:v(function(e){var n=this;if(e===d)n._dom.remove();else if(t(e)){var i=n.sheet;i.deleteRule?i.deleteRule(e):i.removeRule&&i.removeRule(e),n.length--}else if(r(e))for(var o=n.rules,a=o.length-1;a>=0;a--)o[a].selectorText.toLowerCase()===e.toLowerCase()&&n.remove(a)},{each:[i]}),clear:function(){for(var e=this,t=e.length-1;t>=0;t--)e.remove(t);return e}},k:function(t,r){var i=this,o=i._dom=newDom("style").attr("type","text/css").appendTo(r||"head");i.sheet=o.dom.sheet||o.dom.styleSheet,i.rules=i.sheet.cssRules||i.sheet.rules,e(t)&&(t=t.call(i)),n(t)&&i.append(t)}}),N.hooks=function(){var e={},t="inline-block",r=P.init.css;return r.opacity||(e.opacity=function(e){return{name:"filter",value:"alpha(opacity="+100*e+")"}}),r.inlineBlock||(e.display=function(e){return e===t?"display:"+t+";zoom:1;":{name:"display",value:e}}),e}(),N.pseudos=function(){function e(e){return e.parentNode}function t(e,t,r){var n=D.elementIndex(e,null,r)+1,i=!1;if(w.number(t))return n==t;switch(t){case"even":case"2n":i=0==n%2;break;case"odd":case"2n+1":i=1==n%2;break;default:var o=t.replace(/(^|\D+)n/g,"$11n").split("n"),a=0|o[0],s=0|n-o[1];i=a*s>=0&&0==s%a}return i}var r="readOnly",n={focus:function(e){return e===l.activeElement&&(!l.hasFocus||l.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},target:function(e){var t=c.location.hash;return t&&t.slice(1)===e.id},parent:function(e){return!!e.firstChild},root:function(e){return e===l.documentElement},enabled:function(e){return e.disabled!==!1},disabled:function(e){return e.disabled===!1},"read-only":function(e){return e[r]===r||e[r]===!0},"read-write":function(e){return!n[r](e)},password:function(e){return"password"===e.type},has:function(e,t){return B.query(t,e,!1)!==f},not:function(e,t){return B.matchSelector(e,t)===!1},odd:function(e){return t(e,"odd")},even:function(e){return t(e,"even")},html:function(e,t){return e.innerHTML==t},value:function(e,t){return e.value==t},hidden:function(e){return"none"===D.getStyle(e,"display")&&D.contains(e,e.ownerDocument)},checked:function(e){var t=e.nodeName;return"INPUT"===t&&!!e.checked||"OPTION"===t&&!!e.selected},contains:function(e,t,r){return r!==d&&"true"==r+""?(e.innerHTML||"").indexOf(t)>-1:(e.textContent||e.innerText||"").indexOf(t)>-1
},text:function(e){var t;return"INPUT"===e.nodeName&&"TEXT"===e.type&&((t=e.getAttribute("type"))==f||"text"===t.toLowerCase())},selected:function(t){return e(t)&&e(t).selectedIndex,t.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},"first-child":function(t){var r=e(t).firstChild;do if(!r||1===r.nodeType)break;while(r=r.nextSibling);return r===t},"last-child":function(t){var r=e(t).lastChild;do if(!r||1===r.nodeType)break;while(r=r.previousSibling);return r===t},"only-child":function(t){var r=!1,n=0,i=e(t).childNodes,o=i.length;if(0==o)return r;for(var a=0;o>a;a++)if(1===i[a].nodeType){if(n>0){r=!1;break}if(i[a]!==t){r=!1;break}r=!0,n++}return r},"nth-child":t,"nth-last-child":function(e,r){return t(e,r,!0)},"nth-of-type":function(e,r){for(var n=1;e=e.previousSibling;)e.tagName===e.tagName&&n++;return t(e,n,r)},"nth-last-of-type":function(e,r){for(var n=1,i=e.tagName;e=e.nextSibling;)e.tagName===i&&n++;return t(e,n,r)},"first-of-type":function(e){for(var t=e.tagName;e=e.previousSlibling;)if(e.tagName===t)return!1;return!0},"last-of-type":function(e){for(var t=e.tagName;e=e.nextSibling;)if(e.tagName===t)return!1;return!0},"only-of-type":function(t){for(var r=e(t).childNodes,n=r.length-1;n>-1;n--)if(r[n].tagName===t.tagName&&r[n]!==t)return!1;return!0}};return n}(),N.selector=B=function(){var e=h.cssSelector,t=function(e,t){if(9===e.nodeType)return!1;if(t.selector){var r=B.querySelectors(t.selector);if(r===f)return!1;for(var n=0,i=r.length;i>n;n++)if(r[n]===e)return!0;return!1}var o=t["#"],a=t.tag,s=t["."],u=t.attr,c=t[":"],l=t.content;switch(!0){case"*"!==a&&e.nodeName!==a:case o&&e.id!=o:case s&&!w.element.className(e,s):case u&&!B.matchAttr(e,u):case c&&!B.matchPseudos(e,c):case l&&!B.matchContent(e,l):return!1}return!0};return{caches:{},cacheSize:0,parse:function(e,t){var n=0,i=e.length,o=T(e,i),s=function(){for(var t="";i>n;n++){var r=e.charAt(n);if("\n"===r&&(r=" ")," "!==r&&"	"!==r&&">"!==r&&"<"!==r&&"+"!==r&&"~"!==r&&"/"!==r){n--;break}t+=r}return""===(t=t.trim())&&(t=" "),t},u=function(e){var t=":",r=o.pseudoClass(n,!1);return n=r.endPos,0!=r.error?!1:(e[t]||(e[t]={}),e[t][r.name]=r.arguments,void 0)},c=function(e){var r=o.attribute(n),i=r.value;return n=r.endPos,0!=r.error?!1:(e.attr||(e.attr=[]),t===!1&&0===r.type&&(i=i.retype()),e.attr.push({name:r.name,operator:r.operator,value:i}),void 0)},l=function(t){var r=e.charAt(++n),a="";if('"'===r||"'"===r){var s=o.keyword(n,2);if(n=s.endPos+1,0!=s.error)return!1;a=s.text}for(;i>n&&"}"!==(r=e.charAt(n));n++)a+=r;t.content=a},d={"[":c,":":u,"{":l},h=function(s){for(var u,c=0,l={tag:"*","<":s};i>n;n++){var f=e.charAt(n);if("#"===f||"."===f)u=o.keyword(++n,5),n=u.endPos,r(l[f])?l[f]+=" "+u.text:l[f]=u.text;else if("["===f||":"===f||"{"===f){if(d[f](l)===!1)return!1}else if("("===f){if(0!==c)return!1;n++;var h=m();a(h)||(l.selector=h)}else if("*"===f)if(0===c)l.tag=f;else{if(0!==(u=o.keyword(++n,1)).error)return!1;n=u.endPos,l[f]=u.text}else{if(!w.alnum(f)){n--;break}if(0!==c)return!1;n=(u=o.keyword(n,0)).endPos,l.tag=t===!1?u.text:u.text.toUpperCase()}c=2}return 0==c?!1:l},p=function(){for(var t=[],r=f;i>n;n++){var o=e.charAt(n);if(","===o||")"===o)break;if("\n"!==o&&" "!==o&&"	"!==o&&">"!==o&&"<"!==o&&"+"!==o&&"~"!==o){var a=h(r);if(a===!1)return a;t.push(a)}else r=s()}return t},m=function(){for(var t=[];i>n;n++){var r=e.charAt(n);if(!w.blankChar(r)&&","!==r){if(")"===r)break;var o=p();if(!o)break;if(a(o)||t.push(o),")"===e.charAt(n))break}}return t};return m()},matchContent:function(e,t){var r=e.innerHTML;return r?r.trim()===t.trim():!1},matchAttr:function(e,t){for(var r=0,n=t.length,i=0;n>i;i++){var o=t[i],a=o.operator,s=o.value,u=e.getAttribute(o.name);if("="!=a&&"=="!=a&&""!=a||s!==d){if(!w.operator(o.value,a,u))break}else if(!u)break;r++}return r==n},matchPseudos:function(e,t){for(var r in t){var n=N.pseudos[r];if(!n||!n.apply(e,[e].mergeArray(t[r])))return!1}return!0},matchElement:t,findElements:function(e,t,r){if(e.selector)return B.querySelectors(e.selector,t);var n=e.tag,i=e["#"],o=e["."],a=e.attr,s=e[":"],u=e.content,c=f;if(i){var l=D.getElementById(i,t);if(l===f)return f;c=[l]}else c=D.getElementsByTagName(n,t);if(!(o||a||s||u))return r===!1&&c!==f?c[0]:c;if(c===f)return c;for(var d=[],h=w.element.className,p=B.matchAttr,m=B.matchPseudos,v=B.matchContent,g=0,b=c.length;b>g;g++){var y=c[g];if(!(i&&"*"!==n&&y.nodeName!==n||o&&!h(y,o)||a&&!p(y,a)||s&&!m(y,s)||u&&!v(y,u))){if(r===!1)return y;d.push(y)}}return 0==d.length?f:d},findSibling:function(e,r,n,i){var o="nextSibling",a=r,s=[];for(i===!1&&(o="previousSibling");a=a[o];)if(1===a.nodeType&&t(a,e)){if("+"===n)return[a];"~"===n&&s.push(a)}return 0==s.length?f:s},findRelativeElement:function(e,r,n,i){var o=r;if(">"==n){if(w.find(o=o.parentNode,i))return f;if(t(o,e))return o}else if(" "==n)for(;o=o.parentNode;){if(w.find(o,i))return f;if(t(o,e))return o}else if(("+"==n||"~"==n)&&B.findSibling(e,r,n,!1)!==f)return r;return f},matchSelector_P1:function(e,t,r){for(var n=t.length,i=t[n-1]["<"],o=n-2,a=e;o>=0;o--){var s=t[o];if((a=B.findRelativeElement(s,a,i,r))===f)return!1;i=s["<"]}return!0},matchSelector_P2:function(e,r,n){for(var i=r.length,o=[e],a=e;(a=a.parentNode)&&!w.find(a,n)&&9!==a.nodeType;)o.push(a);var s=o.length;if(0==s)return!1;var u=function(e,n,i){var o=r[i+1]["<"];if(" "==o){for(;--n>=0;)if(t(e[n],r[i])){if(0>i-1)return!0;if(0!=u(e,n,i-1))return!0}else if(0>i)return!1}else if(">"==o){if(t(e[--n],r[i]))return--i<0?!0:u(e,n,i)}else if("+"==o||"~"==o){var a=B.findSibling(r[i],e[n],o,!1);if(a!==f)return--i<0?!0:u(e,n,i)}return!1};return 1==u(o.reverse(),s-1,i-2)},matchSelector:function(e,n,i){r(n)&&(n=B.parseSelector(n));for(var o=0,a=n.length;a>o;o++){var s=n[o],u=s.length,c=B.getMatchMethod(s);if(!(1>u)&&t(e,s[u-1])&&(1==u||c(e,s,i)))return!0}return!1},getMatchMethod:function(e){for(var t=0,r=0,n=1,i=e.length;i>n;n++){var o=e[n]["<"];">"==o&&1!=r&&(r=1),n>1&&" "==o&&(t=1)}return 0==r&&(t=0),0==t?B.matchSelector_P1:B.matchSelector_P2},querySelector:function(e,t,r){var n=e.length,i=B.findElements;if(0===n)return f;if(1===n)return i(e[n-1],t,r);var o=i(e[n-1],t);if(o===f)return f;for(var a=o.length,s=[],u=B.getMatchMethod(e),c=0;a>c;c++)if(u(o[c],e,t)===!0){if(r===!1)return o[c];s.push(o[c])}return 0==s.length?f:s},querySelectors:function(e,t,r){var n=e.length,i=B.querySelector;if(1===n)return i(e[0],t,r);for(var o=[],a=0;n>a;a++){var s=i(e[a],t,r);if(s){if(r===!1)return s;for(var u=0,c=s.length;c>u;u++)o.push_uniq(s[u])}}return 0==o.length?f:o},parseSelector:function(t){var r=f,n=B.caches,i=B.parse;return!e.cache||t.length>50?i(t):(B.cacheSize>e.maxCacheSize&&(B.caches=n={},B.cacheSize=0),n[t]?r=n[t]:(B.cacheSize++,r=n[t]=i(t)),r)},query:function(e,t,n){r(t)&&(e=t+" "+e,t=f);var i=B.parseSelector(e);return B.querySelectors(i,t,n)}}}(),N.html=b({f:{attrText:function(e){var t=e.name,r=e.operator,n=e.value;return""===r&&n==f?t:t+r+'"'+_.escapeString(n,'"')+'"'},nodeHtml:function(e,t,n){var i="<"+(e=e.toLowerCase());return p(t,function(e,t){i+=" ",i+=r(t)?t:N.html.attrText(t)}),a(n)&&w.singleTag(e)?i+" />":(i+=">",n!=f&&(i+=n),i+"</"+e+">")},makeNodeHtml:function(e,t){var r="",n="",i=e.tag,o=e["*"],a=e["#"],s=e["."],u=e.attr,c=e[":"],l=e.content,f=[],d=function(e,t){f.push({name:e,operator:"=",value:t})};if("*"===i&&(i="div"),a&&d("id",a),s&&d("class",s),u&&f.mergeArray(u),l&&(n+=l),t&&(n+=t),c&&(p({password:"type"},function(e,t){c[e]&&d(t,e)}),p("checked selected disabled readOnly hideFocus",function(e,t){c[t]&&f.push(t)})),o)for(var h=0;o>h;h++)r+=N.html.nodeHtml(i,f,n);else r=N.html.nodeHtml(i,f,n);return r},makeHtml:function(e,t){var r="",n="";t!=f&&(r=n=t);for(var i=e.length-1,o=f;i>=0;i--){var a=0,s=e[i],u="";o&&" "!=o&&">"!=o?("+"==o||"~"==o)&&(a=1,n=t):n=r,s.selector?p(s.selector,function(e,t){u+=N.html.makeHtml(t,n)}):u=N.html.makeNodeHtml(s,n),0==a?r=u:1==a&&(r=u+r),o=s["<"]}return r}},k:function(e,t){for(var r="",n=B.parseSelector(e),i=0,o=n.length;o>i;i++)r+=N.html.makeHtml(n[i],t);return r}}),D=P.dom=b(function(){var o=c.document.documentElement,u=/<(?:script|style|link)/i,g=P.init,b=g.dom,x=g.cssName,_="__StdWidget__",S="__StdEvents__",C="__StdData__",T="__StdAnimation__",F={extend:v(function(e,t){this.prototype[e]=t},{each:[n,i]}),on:function(e,t){return p(t,function(t,r){return D.united(t).on(e,r)},!0)},off:function(e,t){return p(t,function(t,r){return D.united(t).off(e,r)},!0)},text:function(e){return l.createTextNode(e)}},A=F.contains=function(e,t){var r=!1;return z(e)&&(e=e.document.documentElement),r=e===t?!0:b.contains?(9===t.nodeType?t.documentElement:t).contains(e):b.compareDocPos?!!(16&t.compareDocumentPosition(e)):w.element.descendant(e,t)},z=F.isWindow=function(e){return e!=f&&e==e.window},W=F.window=function(e,t){return z(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:t===!0?!1:c},j=F.inDocument=function(e){return A(e,e.documentElement||o)},R=F.document=function(e){return 9===e.nodeType?e:W(e).document},O=F.loadHTML=function(e){t(e)&&(e+="");var r=P.init.dom.innerFullHTML,n=l.createElement("div"),i=[];if(n.innerHTML=r?"<a>a</a>"+e:e,r&&n.removeChild(n.firstChild),h.dom.enableScript&&-1!=e.indexOf("</script>")){var o=et("script",n);if(o!==f)for(var a=0,s=o.length;s>a;a++){var u=o[a],c=u.type;u.type=c?c+"/":"//",u["*"]=1}}for(i.mergeArray(n.childNodes),n.textContent="";n.firstChild;)n.removeChild(n.firstChild);return i},I=F.behaviorScript=function(e,t){var r=D(e),n="__StdLoadScript__",i="text/std-",o=e.type;if(r.hasData(n))return!1;if(r.data(n,1),a(o)||"text/javascript"===o){if(t!==!1){var s=r.attr("src");a(s)?P.eval(r.text()):(newDom("script").attr("src",s).insertAfter(r),r.remove())}}else if(o.left(9)===i){var u=r.attr("std-name"),c=o.substring(9),l="true"===r.attr("render-here");if("animation"===c)H.append(e);else if(o===i+"css-selector"){if(l){var f=N.html(r.html()),d=K(f);r.parent().insertBefore(d,r),r.remove()}}else o===i+"template"?(l||!a(u))&&new E({element:r}):o!==i+"ui"||a(u)||M.append(u,r.html())}else o in I&&I[o](o,r);return!0},q=function(e,t){var n=e.ownerDocument;if(t.call(e,e),h.dom.enableScript&&A(e,n)){var i=et("script",e);if(i!==f)for(var o=0,a=i.length;a>o;o++){var s=i[o];if(1===s["*"]){var u=s.type;"//"===u?s.removeAttribute("type"):r(u)&&"/"===u.right(1)&&(s.type=u.substr(0,u.length-1)),s["*"]=0,I(s)}}}},U=F.get=function(e,t){var o=f;return e===d?o:(n(e)?e instanceof D?o=e.dom:e.nodeType||z(e)?o=e:s(e)?o=e[0].dom:i(e)?o=U(e[0]):e.jquery&&e.length&&(o=e.get(0)):r(e)&&(o=rt(e,t,!1)),o)},X=F.getStyle=function(e,t){return t in x&&(t=x[t]),e.style[t]?e.style[t]:e.currentStyle?e.currentStyle[t]:W(e).getComputedStyle?W(e).getComputedStyle(e,f).getPropertyValue(t.unCamelCase()):""},Y=F.setStyle=function(e,t,r){t in x&&(t=x[t]);try{e.style[t]=r+""}catch(n){}return D},V=F.clear=function(e){for(var t;t=e.firstChild;)e.removeChild(t);return D},$=F.addListener=function(e,t,r,n,i){var o="addEventListener";return e[o]?e[o](t,r,n||!1,i):e.attachEvent("on"+t,r),D},Q=F.removeListener=function(e,t,r,n,i){var o="removeEventListener";return e[o]?e[o](t,r,n||!1,i):e.detachEvent("on"+t,r),D},K=F.fragment=function(e){var o=l.createDocumentFragment();if(e===d)return o;if(i(e))p(e,function(e,t){(t=U(t))!==f&&o.appendChild(t)});else if(r(e)||t(e))for(var a=0,s=O(e),u=s.length;u>a;a++)o.appendChild(s[a]);else n(e)&&o.appendChild(U(e));return o},Z=F.clone=function(e,t){return e?e.cloneNode(t===d?!0:t):null},G=F.insertHTML=function(e,t,r){return q(e.parentNode,function(){if(e.insertAdjacentHTML)e.insertAdjacentHTML(t.toLowerCase(),r);else{var n=K(r),i=e.parentNode;"BeforeBegin"==t?i&&i.insertBefore(n,e):"AfterBegin"==t?e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n):"BeforeEnd"==t?e.appendChild(n):"AfterEnd"==t&&i&&(i.lastChild===e?i.appendChild(n):i.insertBefore(n,e.nextSibling))}}),D},J=F.elementIndex=function(e,t,n){var i=-1,o=e.parentNode;if(!o)return i;var a=o.childNodes;if(!a||0===a.length)return i;var s=0,u=a.length,c=f;for(r(t)&&(c=B.parseSelector(t));u>s;s++){var l=a[s];if(1===l.nodeType&&(!c||B.matchSelector(l,c,e))&&(i++,l===e))break}return n===!0&&-1!==i&&(i=u-i),i};F.getElementById=function(e,t){var r=l.getElementById(e);if(r===f)return f;if(r.id!==e)for(var n=l.all[e],i=0,o=n.length;o>i;i++)if(n[i].id===e){r=n[i];break}return r===f||t&&!w.element.descendant(r,t)?f:r};var et=F.getElementsByTagName=function(e,r){var n="getElementsByTagName";if(!r)return l[n](e);var i=r.length;if(t(i)){var o=l[n](e),a=o.length;if(0==a)return f;for(var s=[],u=0;a>u;u++){var c=o[u];if(1==c.nodeType)for(var d=0;i>d;d++)if(w.element.descendant(c,r[d])){s.push(c);break}}return 0==s.length?f:s}return r[n](e)};F.getElementsByClassName=function(e,r,n){var i=[],o=[],a="getElementsByClassName";if(r=r?r.toUpperCase():"*",l[a]){var s=l[a](e),u=s.length;if(n){var c=n.length;if(t(c))for(var d=0;u>d;d++)for(var h=s[d],p=0;c>p;p++){var m=n[p];if(w.element.descendant(h,m)){i.push(h);break}}else for(var d=0;u>d;d++)w.element.descendant(s[d],n)&&i.push(s[d])}else i=l[a](e);var v=i.length;if(0===v)return f;if("*"!==r)for(var d=0;v>d;d++)i[d].nodeName===r&&o.push(i[d]);else o=i}else{var v=(i=et(r,n)).length;if(0===v)return f;for(var g=e.split(" "),b=g.length,d=0;v>d;d++){var y=i[d].className;if(y){for(var k=0,x=y.split(" "),_=x.length,p=0;b>p;p++)for(var S=0;_>S;S++)if(g[p]===x[S]){k++;break}k==b&&o.push(i[d])}}}return 0===o.length?f:o},F.getElementsByName=function(e,t,r){return tt("name","=",e,t,r)};var tt=F.getElementsByAttribute=function(e,t,r,n,i){if(!e||!t||!r)return f;var o=et(n||"*",i);if(o===f)return o;for(var a=[],s=0,u=o.length;u>s;s++){var c=o[s],l="";l=D.attrHook[e]?D.attrHook[e](c):c.getAttribute(e),w.operator(r,t,l)&&a.push(c)}return a.length>0?a:f};F.getElementsByPseudoClasses=function(e,t,r,n){if(!e&&!N.pseudos[e])return f;i(t)||(t=[]);var o=et(r||"*",n);if(o!==f){for(var a=[],s=0,u=o.length;u>s;s++){var c=o[s],l=N.pseudos[e].apply(c,t);if(l===!1)break;if(l===!0)a.push(c);else if(l!==d)return l}return 0==a.length?f:a}return f};var rt=F.query=function(e,t,r){return t!==f&&!i(t)&&n(t)&&(t=U(t)),B.query(e,t,r)};F.create=function(){};var nt={clone:function(e){return D(Z(this.dom,e))},document:function(){return R(this.dom)},parentNode:function(){return this.dom.parentNode||f},index:function(e){return J(this.dom,e)},contains:function(e){return A(U(e),this.dom)},offsetParent:function(){for(var e=this.dom,t=e.offsetParent||o;t&&"HTML"!==t.nodeName&&"static"===X(t,"position");)t=t.offsetParent;return D(t||o)},parent:function(e){if(e===d)return D(this.parentNode());for(var t=this;t=t.parent();)if(t.is(e))return t;return f},cssText:function(e,t){var r=this,i=r.dom.style,o="cssText";if(e===d)return i[o];if(n(e)){var a="";p(e,function(e,t){if(e in x)x=x[e];else if(e in N.hooks){var r=N.hooks[e](t);e=r.name,t=r.value}a+=e+":"+t+";"}),e=a}return t===!0?i[o]+=";"+e:i[o]=e,r},backgroundImage:function(e){var t=this,r="backgroundImage";return e!==d?t.css(r,"url('"+e+"')"):(e=t.css(r))?(p(e=e.replace(/url\(([^)]+)\)/g,"$1"),function(t,r){'"'===r&&e.split(t,1)}),e):""},boxSize:function(e){for(var t=this,r={width:0,height:0},n=["paddingTop","paddingBottom","borderTopWidth","borderBottomWidth"],i=["paddingRight","paddingLeft","borderRightWidth","borderLeftWidth"],o=0;4>o;o++){var a=i[o],s=n[o];r.width+=r[a]=int(t.css(a))||0,r.height+=r[s]=int(t.css(s))||0}if(e===!0){var u=["marginTop","marginRight","marginBottom","marginLeft"];r.height+=(r[u[0]]=int(t.css(u[0])))+(r[u[2]]=int(t.css(u[2]))),r.width+=(r[u[1]]=int(t.css(u[1])))+(r[u[3]]=int(t.css(u[3])))}return r},inDocument:function(){return j(this.dom)},offset:function(){var e,t=this,r=t.dom,n=W(r),i=r.documentElement||o,a="getBoundingClientRect";return!j(r)||z(r)?{x:0,y:0}:(a in r&&(e=r[a]()),{x:e.left+(n.pageXOffset||i.scrollLeft)-(i.clientLeft||0),y:e.top+(n.pageYOffset||i.scrollTop)-(i.clientTop||0)})},position:function(){var e=this,t=e.dom,r=0,n=0,i=f;if(z(t)||9===t.nodeType)return{x:0,y:0};if("fixed"===e.css("position"))i=t.getBoundingClientRect(),r+=i.top,n+=i.left;else{i=e.offset();var o=e.offsetParent();if("html"!==o.nodeName()){var a=o.offset();n-=a.x,r-=a.y}r+=i.y-o.css("borderTopWidth"),n+=i.x-o.css("borderLeftWidth")}return{x:n-e.css("marginLeft"),y:r-e.css("marginTop")}},pageX:function(){var e=this.dom;return e.offsetParent?e.offsetLeft+this.offsetParent().pageX():e.offsetLeft},pageY:function(){var e=this.dom;return e.offsetParent?e.offsetTop+this.offsetParent().pageY():e.offsetTop},visible:function(e){var t=this,r=t.dom,n=t.css("display"),i="none"!==n;if(e===d)return i;var o="display",a="_"+o,s=r[a];return 1==e&&0==i?s?(r[a]="",t.css(o,s)):t.css(o,"block"):0==e&&1==i&&(r[a]=n,t.css(o,"none")),t},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},size:function(e,t){return e===d?this.css(["width","height"]):this.css({width:e,height:t})},hasClass:function(e){return w.element.className(this.dom,e)},addClass:v(function(e){var t=this;r(e)&&!t.hasClass(e)&&(t.dom.className+=" "+e)},{each:[i]}),removeClass:function(e){var t=this,n=t.dom;if(i(e)){for(var o=n.className.split(" "),a=0,s=e.length;s>a;a++)for(var u=0,c=o.length;c>u;u++)e[a]==o[u]&&delete o[u];n.className=o.join(" ").trim()}else r(e)&&t.removeClass(e.split(" "));return t},toggleClass:function(e,t){var r=this;return t===!1?r.removeClass(e):t===!0?r.addClass(e):r.hasClass(e)?r.removeClass(e):r.addClass(e),r},is:function(e){var t=this,i=t.dom,o=!1;return o=r(e)?B.matchSelector(i,e):n(e)?U(e)===i:i===e},html:function(e){var t=this,i=t.dom;return e===d?i.innerHTML:(n(e)||r(e)&&u.test(e)?(V(i),t.append(e)):i.innerHTML=e,t)},outerHTML:function(e){var t=this,r=t.dom;return e===d?r.outerHTML:(r.outerHTML=e+"",t)},insertHTML:function(e,t){var r=this;return G(r.dom,e,t),r},sheetText:function(e){var t=this,r=t.dom,n=r.styleSheet,i="";if(e===d){if(n)i=n.cssText;else if(r.sheet){var o=r.sheet.cssRules;if(o&&o.length)for(var a=0,s=o.length;s>a;a++)i+=o[a].cssText}return i}return n!==d?n.cssText=e:(V(r),t.append(D.text(e))),t},text:function(e){var t=this,r=t.dom;return e===d?r.text||r.textContent||r.innerHTML||"":(V(r),t.append(D.text(e)))},value:function(e){var t=this,r=t.dom;return e===d?((e=r.getAttribute("value"))==f&&(e=r.value)===d&&(e=f),e):(r.value===d?r.setAttribute("value",e):r.value=e,t)},contentEditable:function(e){var t=this,r=t.dom,n="contentEditable";return e===d?r[n]||!1:(r[n]=e,t)},selection:function(){var e=this.dom;return R(e).selection||W(e).getSelection()||f},selectionRange:function(e){var t=this,r=t.selection(),n="createRange"in r;return e===d?n?r.createRange():r.getRangeAt(0):(e.select?e.select():(r.removeAllRanges(),r.addRange(e)),t)},selectedHTML:function(e){var r=this,n="",i=r.dom,o="selectionStart",a=e||r.selectionRange();return n="htmlText"in a?a.htmlText:t(i[o])?r.value().substring(i[o],i.selectionEnd):newDiv().append(a.cloneContents()).html()},selectedText:function(e){var r=this,n="",i=r.dom,o="selectionStart",a=e||r.selectionRange();return n="text"in a?a.text:t(i[o])?r.value().substring(i[o],i.selectionEnd):newDiv().append(a.cloneContents()).text()},select:function(e,t){var r=f,n=this.dom,i="select",o="createTextRange";if(i in n){var a="character",s="setSelectionRange";e===d?n[i]():o in n?(r=n[o](),r.collapse(),r.moveEnd(a,t),r.moveStart(a,e),r[i]()):s in n&&(n.focus(),n[s](e,t))}else{var u=W(n),c=R(n),l=c.body;if(l&&l[o])r=l[o](),r.moveToElementText(n),r[i]();else if(u.getSelection){var h=u.getSelection();r=c.createRange(),r.selectNodeContents(n),h.removeAllRanges(),h.addRange(r)}}return this},firstChild:function(){return D(this.dom.firstChild)},lastChild:function(){return D(this.dom.lastChild)},findSibling:function(e,t,r){var n,i,o=this,s=o.dom,u="nextSibling",c=f;switch(e){case"next":i=s[u];break;case"prev":u="previousSibling",i=s[u];break;case"all":var l=s.parentNode;l&&(i=l.firstChild)}if(!i)return f;r===!0&&(c=[]),t!=d&&(n=B.parseSelector(t));do if(i!==o.dom&&1===i.nodeType)if(t==d){if(r!==!0)return D(i);c.push(D(i))}else if(B.matchSelector(i,n)){if(r!==!0)return D(i);c.push(D(i))}while(i=i[u]);return a(c)&&(c=f),c},nextSibling:function(e){return this.findSibling("next",e)},nextSiblings:function(e){return this.findSibling("next",e,!0)},prevSibling:function(e){return this.findSibling("prev",e)},prevSiblings:function(e){return this.findSibling("prev",e,!0)},sibling:function(e){return this.findSibling("all",e)},siblings:function(e){return this.findSibling("all",e,!0)},swap:function(e){var t=this,r=t.parentNode(),n=t.dom,i=U(e),o="insertBefore",a="appendChild";if(!i||!r||n===i)return t;var s=n.nextSibling,u=i.nextSibling;return s?u?(r[o](n,u),r[o](i,s)):(r[o](i,s),r[a](n)):(r[o](n,u),r[a](i)),t},appendChild:v(function(e){var t=this,r=t.dom;(y[1](e)||i(e))&&(e=K(e)),n(e)&&q(r,function(){r.appendChild(U(e))})}),insertBefore:v(function(e,t){var r=this,n=r.dom;if(e===d)r.prepend(n);else if(t===d){var o=(e=U(e)).parentNode;o&&q(o,function(){o.insertBefore(n,e)})}else e=y[1](e)||i(e)?K(e):U(e),q(n,function(){n.insertBefore(e,U(t))})}),insertAfter:v(function(e,t){var r,n=this,o=n.dom;if(t===d){var a=(e=U(e)).parentNode;a&&q(a,function(){a.lastChild===e?a.appendChild(o):a.insertBefore(o,e.nextSibling)})}else e=y[1](e)||i(e)?K(e):U(e),q(o,function(){o.lastChild===(r=U(t))?o.appendChild(e):o.insertBefore(e,r.nextSibling)})}),detach:function(){var e,t=this,r=t.dom;return(e=r.parentNode)&&e.removeChild(r),t},remove:v(function(e){var t=this,r=t.dom;e===d?(r[_]!==d&&r[_].remove(),r[C]=r[S]=f,t.detach()):r.removeChild(U(e))},{each:[i]}),prepend:function(e){var t=this,r=t.firstChild();return r?t.insertBefore(e,r):t.append(e),t},prependTo:function(e){return D(e).prepend(this),this},append:function(e){return this.appendChild(e)},appendTo:function(e){return D(e).append(this),this},clear:function(){return V(this.dom),this},childNodes:function(){return this.dom.childNodes},children:function(i){var o,s=0,u=this,c=[],l=u.dom,h=l.childNodes;if(!h||0===(o=h.length))return f;if(i===d)for(;o>s;s++)1===h[s].nodeType&&c.push(D(h[s]));else if(t(i))c=h[i]||f;else if(e(i))for(;o>s;s++){var p=h[s],m=i.call(u,s,p);if(m!==d)if(m===!0)c.push(p);else{if(m===!1)break;n(m)&&c.push(m)}}else if(r(i))for(var v=B.parseSelector(i);o>s;s++)1===h[s].nodeType&&B.matchSelector(h[s],v,l)&&c.push(D(h[s]));return a(c)&&(c=f),c},find:function(e){var t=rt(e,this.dom);if(a(t))return f;for(var r=[],n=0,i=t.length;i>n;n++)r.push(D(t[n]));return a(t)&&(r=f),r},hover:function(e,t){return this.mouse({enter:e,leave:t})},ajax:function(){var e=this;return L.load.apply(e,arguments).on("success",function(t){e.html(t)})},data:v(function(e,t){var r=this,n=r.dom,i=e.camelCase();return n[C]||(n[C]={}),t==d?((t=n[C][i])===d&&(t=n.dataset?n.dataset[i]:r.attr(e)),t===d&&(t=f),t):(n[C][i]=t,void 0)},{each:[n]}),hasData:function(e){var t=this.dom;return e=e.camelCase(),t[C]&&t[C][e]!==d||t.dataset&&t.dataset[e]!==d||this.attr(e)!==f},removeData:v(function(e){var t=this,r=t.dom,n=e.camelCase(),i=r.dataset;e===d&&(r[C]={}),r[C]&&delete r[C][n],i&&i[n]?delete r.dataset[n]:t.attr(n)!==f&&t.removeAttr(n)},{each:[i,r]}),style:function(e){var t=this.dom,n=t.style;return e===d?n:r(e)?n[e]:void 0},getStyle:function(e){var t=this,r=t.dom,n=D.cssHook;return r===f?f:n[e=e.camelCase()]?n[e].call(t,r):X(r,e)},setStyle:function(t,r){var n=this,i=n.dom,o=D.cssHook;return i===f?n:(e(r)&&(r=r.call(n,n.getStyle(t))),""===r?n.removeStyle(t):(o[t=t.camelCase()]?o[t].call(n,i,r):Y(i,t,r),n))},css:function(e,t){var o=this;if(r(e)){if(t===d)return o.getStyle(e);o.setStyle(e,t)}else if(i(e)){if(t===d){var a={};return p(e,function(e,t){a[t]=o.css(t)}),a}p(e,function(e,r){o.setStyle(r,t)})}else n(e)&&p(e,function(e,t){o.setStyle(e,t)});return o},attr:v(function(t,r){var n=this,o=n.dom,a=D.attrHook;if(i(t)){if(r===d){var s={};return p(t,function(e,t){s[t]=n.attr(t)}),s}p(t,function(e,t){n.attr(t,r)})}else{if(r==d){var u;return u=a[t]?a[t].call(n,o):o.getAttribute(t),u===d?f:u}e(r)&&(r=r.call(n,n.attr(t))),t in a?a[t].call(n,o,r):o.setAttribute(t,r)}},{each:[n]}),removeAttr:v(function(e){this.dom.removeAttribute(e)},{each:[i,r]}),removeStyle:v(function(e){var t=this,r=t.dom.style;return e===d?r.cssText="":(r.removeAttribute?r.removeAttribute(e):r.removeProperty(e.unCamelCase()),void 0)},{each:[i,r]}),on:v(function(t,i,o){var a=this,s=a.dom,u=s[S],c=f,l=f,d=W(s);if(e(i)&&(o=i,i=f),r(i)&&(c=B.parseSelector(i)),!e(o))return a;n(u)||(u=s[S]={});var h=D.eventFix,p=h.mouseEvents.exist(t),m=h.keyEvents.exist(t),v=function(e){(e=e||d.event||f)!==f&&(h(e),p?h.mouse(e):m&&h.keyboard(e),e.name=t),a.emit(t,e,!1,!0,l)};if(!u[t]){u[t]=[];var g=t,b=!1;if(t in D.eventHook){var y=D.eventHook[t];l=y.check,g=y.name,b=y.useCapture}$(s,u[t].eventName=g,u[t].eventFunc=v,b)}u[t].push({callback:o,selector:c,selectorText:i||f})},{each:[i,n,r]}),off:v(function(t,n,i){function o(){var e=u[t].eventName,r=u[t].eventFunc;Q(s,e,r),delete u[t]}var a=this,s=a.dom,u=s[S];if(u)if(e(n)&&(i=n,n=f),t===d)p(u,function(e){a.off(e)});else if(u[t])if(i!==d||r(n)){for(var c=u[t],l=c.length,h=l-1;h>=0;h--){var m=c[h];if(m===d);else if(n===f){if(i===d||m.callback===i){c.splice(h,1),l--;break}}else if(!(i!==d&&i!==m.callback||n!==m.selectorText&&n!==m.selector)){c.splice(h,1),l--;break}}0>=l&&o()}else u[t].clear(),o();else;},{each:[i,n,r]}),emit:v(function(t,r,i,o,a){var s,u=this,c=u.dom,l=i?"apply":"call";if("boolean"==typeof t)return u.emitTurn=t,u;if(!c[S]||!(s=c[S][t])||u.emitTurn===!1)return u;for(var f=function(e,t){var r=e.target;do if(B.matchSelector(r,t,c))return r;while(r=r.parentNode);return!1},d=(function(){"stopPropagation"in r&&(r.stopPropagation(),r.preventDefault())}),h=0,p=s.length;p>h;){var m=s[h],v=c;!n(m)||o===!0&&n(m.selector)&&!(v=f(r,m.selector))||e(a)&&a.call(v,r)===!1?h++:(m.callback[l](v===c?u:D(v),r)===!1&&d(),m===s[h]&&h++)}return u},{each:[i,r]}),once:k.prototype.once,eventAssign:k.prototype.eventAssign,delegate:function(e,t,r){return this.on(e,t,r)},undelegate:function(e,t,r){return this.off(e,t,r)},set:function(e){var t=this;if(n(e))for(var r in e)t[r](e[r]);return t},keyboard:function(t){function r(t){var r=u.keyCode;return r===f?!0:e(r)?r.call(a,t):t.which===u.keyCode}function n(e){s=0,v(u.press).call(a,e)}function i(e){return 1==s&&n(e),u.classStatus&&a.removeClass("press"),v(u.up).call(a,e)}function o(e){return r(e)?(u.classStatus&&a.addClass("press"),s=1,D(l).once("keyup",i),v(u.down).call(a,e)):void 0}var a=this,s=0,u=m({down:f,up:f,press:f,keyCode:f,classStatus:!1},t);return a.on("keydown",o)},focussing:function(e,t,r){var n=this,i=f,o=!1,a=r===d?function(){var e=n.document(),t=e?e.activeElement:e;return n.is(t)||n.contains(t)}:r,s=function(r){v((a=o)?e:t).call(n,r)};return n.on("focusin focusout",function(e){o="focusin"===e.name,i==f?s(e):clearTimeout(i),i=setTimeout(function(){a!==o&&(s(e),i=f)},0)})},mouse:function(t,r){function n(t){return c.classStatus&&u.removeClass("press"),c.unselect&&u.unselect(!1),e(c.up)?c.up.call(u,t):void 0}function i(t){return D(o).once("mouseup",n),c.classStatus&&1===t.which&&u.addClass("press"),c.unselect&&u.unselect(!0),e(c.down)?c.down.call(u,t):void 0}function a(t){return u.off("mousedown",i),c.classStatus&&u.removeClass("hover"),e(c.click)&&u.off("click",c.click),e(c.dblclick)&&u.off("dblclick",c.dblclick),e(c.leave)?c.leave.call(u,t):void 0}function s(t){return u.on("mousedown",i).once("mouseleave",a),c.classStatus&&u.addClass("hover"),e(c.click)&&u.on("click",c.click),e(c.dblclick)&&u.on("dblclick",c.dblclick),e(c.enter)?c.enter.call(u,t):void 0}var u=this,c=m({enter:f,leave:f,down:f,up:f,click:f,dblclick:f,unselect:!1,classStatus:!0,auto:!0},e(t)?t():t);return c.auto?u.on("mouseenter",s):s.call(u,r),u},sizeControl:function(e,t,n){var o=this,a=0;if(i(t))for(var s=0,u=t.length;u>s;s++)a+=o.css(t[s]);else r(t)&&(a+=o.css(t));return n===d?e===f?a:o.css(e)+a:(o.dom.style[e]=n-a+"px",o)},widget:function(e,t){var i=this,o=i.dom;return e===d?o[_]||f:(s(e)?o[_]=e:n(e)&&e.ui?o[_]=M(e.ui,e):r(e)&&n(t)&&(o[_]=M(e,t)),o[_]&&o[_].renderTo(i),i)},animate:function(n,o,a){function s(t){var r={},n=new H.keyframes(o).rules(t).on({pause:function(){r={}},progress:function(e){for(var t in e){var n=e[t];r[t]!==n&&l.setStyle(t,r[t]=n)}},complete:function(){var t=c._("indexOf",n);-1!==t&&c._("remove",t),++v==m&&e(a)&&a.call(l,m,n)}});n.defaultProperty(p(n._property,function(e){return l.css(e)},!0)).start(),c._(n),m++}var u,c,l=this,f=l.dom,h="keyframes",m=0,v=0;if(u=y[2](f,T),c=u[h]?u[h]:u[h]=new H.keyframes.united,n===d)return c;if(o===d&&r(n)){switch(n){case"start":case"pause":case"stop":c[n]()}return l}return t(o)&&(o={duration:o}),c.remove(),c._("clear"),i(n)?p(n,function(e,t){s(t)}):s(n),c},animation:function(){}};p({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var r=/Y/.test(t);nt[e]=function(n){var i=this,o=i.dom,a=W(o,!0);return n===d?a?t in a?a[t]:a.document.documentElement[e]:o[e]:(a?a.scrollTo(r?D(a).scrollLeft():n,r?n:D(a).scrollTop()):o[e]=n,i)}}),p("scrollWidth scrollHeight offsetWidth clientWidth offsetHeight clientHeight offsetLeft offsetTop tagName nodeName type className readyState",function(e,t){nt[t]=function(e){var r=this,n=r.dom;return e===d?n[t]:(n[t]=e,r)}}),p("opacity outerWidth outerHeight zIndex cursor color width height",function(e,t){nt[t]=function(e){return this.css(t,e)}}),p("id name",function(e,t){nt[t]=function(e){return this.attr(t,e)}}),p("submit focus blur",function(e,t){nt[t]=function(){var e=this,r=arguments,n=e,i=e.dom;return t in i&&(n=r.length>0?i[t].apply(i,r):i[t](),n===d&&(n=e)),n}});var it=v(!1);return p({unselect:"Std_unselect",wordwrap:"Std_wordwrap",wordnowrap:"Std_wordnowrap"},function(e,t){nt[e]=function(r){return"unselect"==e&&this[r?"on":"off"]("selectstart",it),this.toggleClass(t,r)}}),{f:F,j:nt,k:function(e,t){var n,o=this,a=o instanceof D;return a===!1?null===(n=U(e,t))?f:new D(n,!1):(t===!1?o.dom=e:(r(e)?i(n=D.loadHTML(N.html(e)))&&(o.dom=n[0]):o.dom=Z(U(e)),t!==d&&t!==f&&o.appendTo(t)),void 0)}}}),D.united=b(function(){var e=P.unite(D);return{f:{extend:v(function(e,t){this.prototype[e]=t},{each:[n,i]})},k:function(t,n){var i=this,o=i instanceof D.united,a=new e;if(r(t)){var s;s=o?D.loadHTML(N.html(t)):D.query(t,n),p(s,function(e,t){a._(D(t))},!0)}else{var u=D.get(t);null!==u&&a._(D(o?D.clone(u):u))}return a}}}),D.eventFix=b(function(){var e="srcElement",t="relatedTarget",r="fromElement",n="stopPropagation",i="preventDefault";return{f:{keyEvents:"keydown keypress keyup".split(" "),mouseEvents:"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave click dblclick contextmenu".split(" "),mouse:function(e){var t=e.button;if(e.which==d&&t!=d&&(e.which=1&t?1:2&t?3:4&t?2:0),e.pageX===d&&e.clientX!==d){var r=e.target.ownerDocument||l,n=r.documentElement,i=r.body;e.pageX=e.clientX+(n&&n.scrollLeft||i&&i.scrollLeft||0)-(n&&n.clientLeft||i&&i.clientLeft||0),e.pageY=e.clientY+(n&&n.scrollTop||i&&i.scrollTop||0)-(n&&n.clientTop||i&&i.clientTop||0)}},keyboard:function(e){e.which==f&&(e.which=e.charCode!=f?e.charCode:e.keyCode)}},k:function(o){var a=o.target||o[e];!o.target&&o[e]&&(a=o.target=o[e]),a&&3===a.nodeType&&(o.target=a.parentNode),!o[t]&&o[r]&&(o[t]=o[r]===a?o.toElement:o[r]),o.metaKey===d&&(o.metaKey=!1),o[n]||(o[n]=function(){o.cancelBubble=!0}),o[i]||(o[i]=function(){o.returnValue=!1})}}}),D.cssHook=function(){var e=/alpha\([^)]*\)/i,n=/opacity\s*=\s*([^)]*)/,i="opacity",o="filter",s="backgroundPosition",u=P.init.css,c=D.getStyle,l=D.setStyle,f={width:["paddingRight","paddingLeft","borderRightWidth","borderLeftWidth"],height:["paddingTop","paddingBottom","borderTopWidth","borderBottomWidth"]},h={"float":function(e,t){var r=e.style,n=u.cssFloat?"cssFloat":"styleFloat";return t===d?r[n]||c(e,"float")||c(e,n):(r[n]=t,void 0)},outerWidth:function(e,t){return this.sizeControl("width",f.width,t)},outerHeight:function(e,t){return this.sizeControl("height",f.height,t)},innerWidth:function(e,t){return this.sizeControl("width",["paddingRight","paddingLeft"],t)},innerHeight:function(e,t){return this.sizeControl("height",["paddingTop","paddingBottom"],t)},opacity:function(t,r){var a=t.style,s=u[i],l=t.currentStyle;
if(r===d)return s?c(t,i):n.test((l?l[o]:a[o])||"")?.01*float(RegExp.$1)+"":"1";if(s)a[i]=r;else{var f=N.hooks[i](r).value,h=l&&l[o]||a.filter||"";if(a.zoom=1,(f>=1||""===f)&&""===h.replace(e,"").trim()&&a.removeAttribute&&(a.removeAttribute(o),""===f||l&&!l[o]))return;a.filter=e.test(h)?h.replace(e,f):h+" "+f}}};if(h[s]=function(e,t){return t===d?(a(t=c(e,s))&&(t=c(e,s+"X")+" "+c(e,s+"Y")),t):(l(e,s,t),void 0)},p("X Y",function(e,t){var r=s+t;h[r]=function(t,n){if(n===d){if(a(n=c(t,r))){var i=c(t,s);return i==d?0:i.split(" ")[e]}return n}l(t,r,n)}}),!u.inlineBlock){var m="inline-block";h.display=function(e,t){var r=e.style;return t===d?(t=c(e,"display"),"inline"===t&&r.zoom?m:t):(t===m?(r.zoom=1,r.display="inline"):r.display=t,void 0)}}return p("width height",function(e,n){var i=n.capitalize();h[n]=function(o,a){if(a===d){if(D.isWindow(o))return o.document.documentElement["client"+i];if(9===o.nodeType){var s=o.documentElement;return Math.max(o.body["scroll"+i],s["scroll"+i],o.body["offset"+i],s["offset"+i],s["client"+i])}var u=c(o,n);if(r(u)&&("auto"===u||"%"===u.substr(-1))){var h=0==e?o.offsetWidth:o.offsetHeight;return h&&(u=h-this.sizeControl(null,f[n])),u||0}return float(u||0)||0}l(o,n,t(a)?a+"px":a)}}),p("left top right bottom marginTop marginLeft marginRight marginBottom lineHeight borderRightWidth borderLeftWidth borderTopWidth borderBottomWidth paddingLeft paddingRight paddingTop paddingBottom",function(e,r){h[r]=function(e,n){return n===d?float(c(e,r)||0)||0:(t(n)&&(n+="px"),l(e,r,n),void 0)},D.extend(r,function(e){var t=this;return e===d?t.css(r):t.css(r,e)})}),h}(),D.attrHook=function(){var e={};return p({id:"id","class":"className",href:"href",name:"name",type:"type"},function(t,r){e[t]=function(e,t){return t===d?e[r]:(e[r]=t,void 0)}}),e.style=function(e,t){return t===d?e.style.cssText:(e.style.cssText=t,void 0)},e}(),D.eventHook=function(){var e={},t=D(c),r=0,n=0,i=!1;return P.init.on.focusin||p({focusin:"focus",focusout:"blur"},function(t,r){e[t]={name:r,useCapture:!0,check:function(){return!0}}}),p({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,r){e[t]={name:r,check:function(e){var t=e.relatedTarget;return!t||!D.contains(t,this)}}}),e.resize={name:"resize",check:function(){return t.is(this)?i:!0}},D.addListener(t.dom,"resize",function(){var e=t.width(),o=t.height();e===r&&o===n?i=!1:(i=!0,r=e,n=o)}),e}(),P.sss=b(function(){return{f:{},k:function(){}}}),M=P.ui=P.module({f:{status:{zIndex:1,index:0,resize:0,drag:0},templates:{},models:{},modules:{},exist:function(e){return!!M.modules[e]},has:function(){for(var e=0,t=arguments.length;t>e;e++)if(!M.exist(arguments[e]))return!1;return!0},model:function(e,t){return g(e,t,M)},append:v(function(e,t){r(t)&&(t=B.parse(t,!1)),n(t)&&(M.templates[e]=M.builder(t))},{each:[i,n]}),remove:v(function(e){r(e)&&delete M.templates[e]},{each:[i]}),query:function(){},create:function(e,t){if(r(e)){var i=M.modules[e];return i?new i(t||{}):!1}return n(e)?p(e,function(e,t){return n(t)&&t.ui?M(t.ui,t):r(t)?M(t,{}):void 0},!0):f},module:function(t,n){if(r(t)){if(n===d)return M.modules[t]||f}else n=t;r(t)&&e(n)&&(n=n.call(P,M)),n=m({},n);var i,o=n.nodeName||"div",a=newDom(o).attr("tabindex",1),s=[],u="prototype",c="objectName";return n.__constructor__=function(e){var r,n=this,i=n.init_opts(e);switch(i.tabIndex){case 1:r=a.clone();break;case f:case d:r=newDom(o);break;default:r=newDom(o).attr("tabindex",i.tabIndex)}n[0]=r,(n[c]=i[c])||(n[c]=t+ ++M.status.index),"on"in i&&n.on(i.on),n.emit("create");for(var u=s.length-1;u>=0&&s[u].call(n,n,i,r)!==!1;u--);i.renderTo&&n.renderTo(i.renderTo)},(i=b(t,n,M))===f?i:(i[u].ui=t,i[u].emit=k[u].emit,s=b.property(i,"main",!0),i)},extend:function(e,t){return b.extend(e,t,M)}},k:function(e,t){return t===d&&r(e)?M.modules[e]||f:M.create(e,t)}}),M.builder=P.module({"protected":{widgets:null,selector:null},j:{createInstance:function(e){var t=this,r=e.tag,n={},i=f;if(M.exist(r)){p(e.attr,function(e,t){"="===t.operator&&(n[t.name]=t.value)});var o=e["#"];e.content,i=M(r,n),o!==d&&(t._widgets[o]=i),p(e[":"],function(e,t){i[e].apply(i,t)})}return i},scan:function(e){for(var t=this,r=[],n="",i=e.length-1;i>=0;i--)if(!e[i].selector){switch(n=e[i]["<"]){case"~":case"+":break;case">":case" ":}var o=e[i]["<"]["*"];if(o!==d){o=int(o);for(var a=0;o>a;a++)r.push(t.createInstance(e[i]))}else r.push(t.createInstance(e[i]))}return 0===r.length?f:r},build:function(e){var t=this,r=e||t._selector,n=[];if(!i(r))return f;for(var o=0,a=r.length;a>o;o++){var s=t.scan(r[o]);s!==f&&n.push(s)}return n}},k:function(e){var t=this;return t instanceof M.builder?(t._widgets={},t._selector=r(e)?B.parse(e,!1):e,void 0):new M.builder(e).build()}}),M.module("widget",function(){return{a:P.models.events,c:"create resize visible enable load remove beforeRender render",e:{level:2,parent:f,renderTo:"",objectName:"",width:"auto",height:"auto",fixedLayoutWidth:!1,fixedLayoutHeight:!1,className:"",tabIndex:1,minWidth:3,minHeight:3,maxWidth:f,maxHeight:f,left:f,top:f,padding:f,enable:!0,visible:!0,animate:!1,initSize:!0,plugins:0,value:f,validator:"",invalidText:"invalid",cache:!0,contentType:"",layout:f,widget:f,url:f,html:f,iframe:f,tooltip:f},h:{init_boxSize:function(){var e=this,t=e.opts,r=e.__Std__,n=t.className,i="boxSize";if(r[i]||(r[i]={}),e[i]=r[i][n]?r[i][n]:r[i][n]=e[0][i](),t.padding!==f){var o={},a=t.padding;for(var s in e[i])o[s]="width"!==s||"height"!==s?e[i][s]+2*a:e[i][s]+a;e[i]=o}return e},loadContent:function(){var e=this,t=e.opts,n=t.contentType;return""===n?t.html?e.html(t.html):t.url?e.url(t.url):t.iframe?e.iframe(t.iframe):t.widget?e.widget(t.widget):t.layout&&e.layout(t.layout):r(n)&&e[n](t[n]),e}},j:{data:0,boxSize:0,renderState:!1,valid:function(){return!0},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},hasClass:function(e){return this[0].hasClass(e)},addClass:function(e){var t=this;return t[0].addClass(e),t},removeClass:function(e){var t=this;return t[0].removeClass(e),t},toggleClass:function(e,t){var r=this;return r[0].toggleClass(e,t),r},className:function(e){return this.opt("className",e,function(){this[0].className(e)})},minWidth:function(e){var r=this;return r.opt("minWidth",e,function(){t(e)&&r.width()<e&&r.width(e)})},minHeight:function(e){var r=this;return r.opt("minHeight",e,function(){t(e)&&r.height()<e&&r.height(e)})},maxWidth:function(e){var r=this;return this.opt("maxWidth",e,function(){t(e)&&r.width()>e&&r.width(e)})},maxHeight:function(e){var r=this;return this.opt("maxHeight",e,function(){t(e)&&r.height()>e&&r.height(e)})},plugin:v(function(e,t){var n=this,i=y[2](n,"plugins");return r(e)&&t===d?i[e]||null:(e in i&&(i[e].remove(),delete i[e]),r(e)&&!i[e]&&P.plugin.exist(e)&&(i[e]=new P.plugin.modules[e](n,t),t.on&&i[e].on(t.on)),void 0)},{each:[n]}),visible:function(e){var t=this,r=t.opts;return e===d?t.renderState?t[0].visible():!1:(t[0].visible(r.visible=e),t.emit("visible",e))},focus:function(r,n){var i=this;return t(r)?(setTimeout(function(){i[0].focus()},r),e(n)&&n.call(i)):i[0].focus(),i},blur:function(r,n){var i=this;return t(r)?(setTimeout(function(){i[0].blur()},r),e(n)&&n.call(i)):i[0].blur(),i},widget:function(e){var t=this,r=t.opts;return e===d?r.widget:(s(e)?e.renderTo(t):n(e)&&e.ui&&(e=M(e.ui,e),s(e)&&e.renderTo(t)),t.emit("load",r.widget=e))},layout:function(e){var t=this,r=t.opts;return e===d?r.layout:n(e)?(u(r.layout)&&r.layout.renderState&&(t.off("resize",t.updateLayout),r.layout.clear(),r.layout=f),!u(e)&&o(e)&&e.ui&&(e=M(e.ui,e)),t.renderState?("static"===t[0].css("position")&&t[0].css("position","relative"),r.contentType="layout",r.layout=e,r.layout.parent(t),t.level(r.layout.level()).on({resize:t.updateLayout,remove:function(){r.layout.clear()}}),t.renderState&&r.layout.render().update(),t.emit("load",r.layout)):(r.contentType="layout",r.layout=e,t)):t},iframe:function(t,r){var n=this;return n.opt("iframe",t,function(){var i=newDom("iframe").attr({src:t,frameBorder:"0"}).css({"float":"left",border:0,width:"100%",height:"100%"}).on("load",function(){n.emit("load",i),e(r)&&r.call(n,i)});n.opts.contentType="iframe",n[0].clear().append(i)})},url:function(t,r){var n=this,i=n.opts;return n.opt("url",t,function(){i.contentType="url",L({url:t,cache:i.cache,success:function(t){n[0].html(t),e(r)&&r.call(n,t),n.emit("load",t)}})})},html:function(e){var t=this,r=t.opts;return e===d?t[0].html():(r.contentType="html",t[0].html(r.html=e),t.emit("load",e))},on:v(function(t,r){var n=this,i="__StdEvents__";if(t===d||!e(r))return n;if(n[i]||(n[i]={}),n.__Std__.events.exist(t)){var o=n[i];o[t]||(o[t]=[]),o[t].push(r)}else n[0].on(t,r);return n},{each:[n,r]}),off:v(function(t,r){var n=this,i="__StdEvents__";if(t===d||!e(r))return n;if(n.__Std__.events.exist(t)){var o=n[i];if(!o||!o[t])return n;r!==d?p(o[t],function(e,n){return n===r?(o[t].remove(e),!1):void 0}):o[t].clear()}else n[0].off(t,r)},{each:[n,r]}),move:function(e,t){var r=this,n=r[0],i=f,o=function(){return i!==f?i:(i=n.offsetParent(),(!i||i.contains("body"))&&(i=D(c)),i)},a=function(e){return e.offsetWidth()||e.width()},s=function(e){return e.offsetHeight()||e.height()};if(t===d){if("cent"===e.substr(0,4)){var u=o(),l=(a(u)-r.width())/2,h=(s(u)-r.height())/2;"central"==e&&(h-=.25*h),n.css({left:l,top:h})}}else n.css({left:e,top:t});return r},rect:function(e,t,r,n){var i=this;return e===d?{top:i[0].css("top"),left:i[0].css("left"),width:i.width(),height:i.height()}:(i[0].css({top:t,left:e}),i.width(r),i.height(n),i)},left:function(e){var t=this;return e===d?t[0].css("left"):(t[0].css("left",e),t)},top:function(e){var t=this;return e===d?t[0].css("top"):(t[0].css("top",e),t)},opacity:function(e){var t=this;return e===d?t[0].opacity():(t[0].opacity(e),t)},clientWidth:function(e){var r=this,n=r.opts,i=r[0],o=r.boxSize;return e===d?t(n.width)?n.width-o.borderLeftWidth-o.borderRightWidth:i.clientWidth():(t(e)&&(n.width=e+o.borderLeftWidth+o.borderRightWidth,i.width(e-o.paddingLeft-o.paddingRight)),r.emit("resize",e))},clientHeight:function(e){var r=this,n=r.opts,i=r.boxSize;return e===d?t(n.height)?n.height-i.borderTopWidth-i.borderBottomWidth:r[0].clientHeight():(t(e)&&(n.height=e-i.borderTopWidth-i.borderBottomWidth,r[0].height(e-i.paddingTop-i.paddingBottom)),r.emit("resize",e))},width:function(e){var r=this,n=r.opts,i=r.boxSize;if(e===d)return t(n.width)?n.width:r[0].width()+i.width;if(!r.renderState)return n.width=e,r;if(t(e)){var o=n.minWidth,a=n.maxWidth;o&&o>e&&(e=o),a&&e>a&&(e=a),r[0].width(e-i.width)}return r.emit("resize",n.width=e)},height:function(e){var r=this,n=r.opts,i=r.boxSize;if(e===d)return t(n.height)?n.height:r[0].height()+i.height;if(!r.renderState)return n.height=e,r;if(t(e)){var o=n.minHeight,a=n.maxHeight;o&&o>e&&(e=o),a&&e>a&&(e=a),r[0].height(e-i.height)}return r.emit("resize",n.height=e)},size:function(e,t){var r=this;if(e===d)return{width:r.width(),height:r.height()};if(t===d){if(n(e))return r.size(e.width,e.height)}else r.width(e).height(t);return r},enable:function(e){var t=this;return t.opt("enable",e,function(){t.toggleClass("disabled",!e).emit("enable",e)})},disable:function(e){var t=this;return e===d?!t.enable():t.enable(!e)},updateLayout:function(){var e=this,t=e.opts;return u(t.layout)&&t.layout.update(),e},beforeRender:function(){return this.emit("beforeRender")},render:function(){var e=this,t=e.opts;return e.renderState?e:(e.beforeRender(t),e.renderState=!0,e.init_boxSize(),t.initSize&&(e.width(t.width),e.height(t.height)),t.left!==f&&e.left(t.left),t.top!==f&&e.top(t.top),t.visible===!1&&e.visible(!1),t.enable===!1&&e.enable(!1),t.plugins&&e.plugin(t.plugins),t.contentType!==f&&e.loadContent(),e.emit("render"))},appendTo:function(e){return this[0].appendTo(e),this},renderTo:function(e){var t=this;return t.opt("renderTo",e,function(){t.appendTo(e),t.renderState||t.render()})},remove:function(t){var r=this;if(t===d){switch(p(r.plugins,function(t,r){e(r.remove)&&r.remove()}),r.opts.contentType){case"widget":break;case"layout":}r[0].remove(),r.emit("remove"),r.renderState=-1}return r}},k:function(e,t,r){t.className&&e[0].className("StdUI "+t.className),t.padding!==f&&r.css("padding",t.padding+"px"),t.css&&r.css(t.css),t.tooltip&&r.attr("title",t.tooltip),t.appendTo?e.appendTo(t.appendTo):t.prependTo&&e.prependTo(t.prependTo)},l:function(e,t){p("parent level value validator invalidText",function(e,r){t[r]=function(e){return this.opt(r,e)}})}}}),P.ui.module("sep",{b:"widget",e:{level:3,className:"StdUI_Sep",tabIndex:f}}),P.ui.module("locker",{b:"widget",e:{level:5,opacity:.4,background:"#000000",cursor:"default",position:"absolute",visible:!1,tabIndex:f},g:{render:function(){this.opts.visible&&this._resize(),this.on("contextmenu",v(!1))},visible:function(e){e===!0&&this.resize()},remove:function(){D(c).off("resize",this._resize)}},j:{resize:function(){var e=this,t=e[0].offsetParent();return e.visible()?(t.contains("body")&&(t=D(c)),e[0].css({left:0,top:0,width:t.offsetWidth()||t.width(),height:t.offsetHeight()||t.height()}),e):e},cursor:function(e){return this.opt("cursor",e,function(){this[0].css("cursor",e)})}},k:function(e,t,r){r.css({opacity:t.opacity,background:t.background,cursor:t.cursor,overflow:"hidden",position:t.position,zIndex:++M.status.zIndex}),D(c).on("resize",e._resize=function(){e.resize.call(e)})}}),M.module("stretch",{b:"widget",e:{level:5,tabIndex:f}}),M.module("spacing",{b:"widget",e:{level:1,minHeight:1,minWidth:1,height:2,width:2,tabIndex:f}}),M.module("layoutItem",{b:"widget",e:{item:0,level:1,type:"widget",arrangement:"horizontal",initSize:!1,tabIndex:f},g:{render:function(){var e=this,t=e.opts,r=t.type,n=t.item;if(n!=d){if(n.render(),"widget"==r)t.width=n.width(),t.height=n.height(),t.minWidth=n.minWidth(),t.minHeight=n.minHeight();else if("layout"==r){var i=n.sizeInfo();t.width=i.width,t.height=i.height,t.minWidth=i.minWidth,t.minHeight=i.minHeight}e[0].cssText("position:absolute;width:"+t.width+"px;height:"+t.height+"px")}},width:function(e){var t=this,r=t.opts,n=r.type,i=r.item;"widget"==n?i.width(e):"layout"==n&&i.update()},height:function(e){var t=this,r=t.opts,n=r.type,i=r.item;"widget"==n?i.height(e):"layout"==n&&i.update()},remove:function(){this.opts.item.remove()}},h:{init_boxSize:function(){this.boxSize={width:0,height:0,paddingLeft:0,paddingTop:0}}},j:{type:function(e){return this.opt("type",e)},fixedLayoutWidth:function(){return this.opts.item.opts.fixedLayoutWidth},fixedLayoutHeight:function(){return this.opts.item.opts.fixedLayoutHeight},item:function(e){var t=this,r=t.opts,i="";if(e===d)return r.item;if(s(e))i="widget",e.appendTo(t[0]);else if(u(e))i="layout";else if(n(e)&&e.ui){if(!(e=M(e.ui,e)))return f;u(e)?i="layout":(i="widget",e.appendTo(t[0]))}return r.type=i,r.level=e.level(),r.item=e,e.parent(t),t}},k:function(e,t){t.item&&e.item(t.item)}}),M.module("layout",{e:{level:2,spacing:4,parent:f,items:f,fixedLayoutWidth:!1,fixedLayoutHeight:!1},i:{timer:f},h:{arrangement:"vertical",resetLevel:function(e){var t=this;return e.level()>t.level()&&t.level(e.level()),t}},j:{renderState:!1,refresh:function(){var e=this;return p(e.items,function(t,r){e.resetLevel(r)}),e},parentWidget:function(){var e,t=this,r=t.parent();return r?s(r)?e=r:u(r)&&(e=r.parentWidget()):e=f,e},insert:v(function(e,t){var r=this,n=M("layoutItem",{parent:r,arrangement:r.arrangement,item:e});r.resetLevel(n),r.items.insert(n,t),r.renderState&&n.insertBefore(r.items[t])},{each:[i]}),append:v(function(e){var t=this,r=M("layoutItem",{parent:t,arrangement:t.arrangement,item:e});t.resetLevel(r),t.items.push(r),t.renderState&&r.renderTo(t.parentWidget())},{each:[i]}),sizeInfo:function(){var e=this,t=0,r=0,n=0,i=0,o=e.items.length,a=e.arrangement;if("horizontal"==a)for(var s=0;o>s;s++){var u=e.items[s];t+=u.width(),u.height()>r&&(r=u.height()),1==u.level()||u.fixedLayoutWidth()?(n+=u.width(),u.height()>i&&(i+=u.height())):(n+=u.minWidth(),u.minHeight()>i&&(i+=u.minHeight())),s>0&&(t+=e.spacing(),n+=e.spacing())}else if("vertical"==a)for(var s=0;o>s;s++){var u=e.items[s],c=u.width(),l=u.height(),f=0,d=0;1==u.level()||u.fixedLayoutHeight()?(f=c,d=l):(f=u.minWidth(),d=u.minHeight()),c>t&&(t=c),f>n&&(n=f),d>l?i+=d:r+=l,s>0&&(r+=e.spacing(),i+=e.spacing())}return{width:t,height:r,minWidth:n,minHeight:i}},parentSize:function(){var e=this,t=0,r=0,n=0,i=0,o=e.parent();if(s(o)){var a=o.boxSize;n=o.width(),i=o.height(),a&&(t=a.paddingLeft,r=a.paddingTop,n-=a.width,i-=a.height)}return{width:n,height:i,left:t,top:r}},render:function(){var e=this,t=e.parentWidget();return t?(p(e.items,function(e,r){r.renderTo(t)}),e.renderState=!0,e):e},updateLayout:function(){var e=this,t=e.parent();return t&&e.renderState?(t.removeClass("Std_Hidden"),e):!1},update:function(){var e=this,t=e.parent();return t&&t.addClass("Std_Hidden"),e._timer!=f&&(e._timer=clearTimeout(e._timer)),e._timer=setTimeout(function(){e.updateLayout(),e._timer=f},0),e},clear:function(){var e=this,t=e.items;return p(t,function(e,t){t.remove()}),t.clear(),e},remove:function(e){var r=this;if(e===d)r[0].remove(),r.clear().emit("remove");else{var i=r.items;t(e)?(i[e].remove(),i[e]=f,i.remove(e)):n(e)&&p(i,function(e,t){return t.remove(),i.remove(e),!0}),r.update()}return r}},k:function(e,t){e.items=[],i(t.items)&&e.append(t.items)},l:function(e,t){p("parent level spacing fixedLayoutWidth fixedLayoutHeight",function(e,r){t[r]=function(e){return this.opt(r,e)}})}}),M.module("HBoxLayout",{b:"layout",g:{render:function(){var e=D(this.parent());e&&e.css("overflow","hidden")},updateLayout:function(){for(var e=this,t=e.parentSize(),r=t.width,n=t.height,i=[],o=0,a=t.left,s=e.items.length,u=0;s>u;u++){var c=e.items[u],l=c.level();1==l||2==l&&l<e.level()||c.fixedLayoutWidth()?o+=c.width():i.push(u),u>0&&(o+=e.spacing())}for(var f=r-o,u=0,d=i.length;d>u;u++){var c=e.items[i[u]],h=f/(i.length-u),p=c.minWidth();p>h&&(h=p),f-=h,c.width(h)}for(var u=0;s>u;u++){var c=e.items[u];c.level()>3||"layout"==c.type()?c.height(n):c.top((n-c.height())/2),c.left(a),a+=c.width()+e.spacing()}}},j:{arrangement:"horizontal"}}),M.module("VBoxLayout",{b:"layout",g:{render:function(){var e=D(this.parent());e&&e.css("overflow","hidden")},updateLayout:function(){for(var e=this,t=e.parentSize(),r=t.width,n=t.height,i=[],o=0,a=t.top,s=e.spacing(),u=e.items.length,c=0;u>c;c++){var l=e.items[c],f=l.level();1!=f&&l.width(r),f>3&&f==e.level()&&!l.fixedLayoutHeight()?i.push(c):o+=l.height(),c>0&&(o+=s)}for(var c=0,d=n-o,h=i.length;h>c;c++){var l=e.items[i[c]],p=d/(h-c),m=l.minHeight();m>p&&(p=m),d-=p,l.height(p)}for(var c=0;u>c;c++){var l=e.items[c],p=l.height();if(d>0){var v=d/(u+1);v>0&&(a+=v)}l.top(a),a+=p+s}}},j:{arrangement:"vertical"}}),M.module("HArrayLayout",{b:"layout",g:{updateLayout:function(){for(var e=this,t=e.parentSize(),r=t.height,n=t.left,i=e.spacing(),o=e.items.length,a=0;o>a;a++){var s=e.items[a];if("layout"==s.type())switch(s.item().ui){case"HArrayLayout":case"VArrayLayout":s.item().update();break;default:s.height(r)}s.left(n),n+=s.width()+i}}},j:{arrangement:"horizontal"}}),M.module("VArrayLayout",{b:"layout",g:{updateLayout:function(){for(var e=this,t=e.parentSize(),r=t.width,n=t.top,i=e.spacing(),o=e.items.length,a=0;o>a;a++){var s=e.items[a];if("layout"==s.type())switch(s.item().ui){case"HArrayLayout":case"VArrayLayout":s.item().update();break;default:s.width(r)}s.top(n),n+=s.height()+i}}},j:{arrangement:"vertical"}}),P.plugin=b({f:{models:{},modules:{},exist:function(e){return e in P.plugin.modules},model:function(e,t){return g(e,t,P.plugin)},module:function(t,n){if(r(t)){if(n===d)return P.plugin.modules[t]||f}else n=t;r(t)&&e(n)&&(n=n.call(P,P.plugin)),n=m({},n);var i,o=[],a="prototype";return n.__constructor__=function(e,t){var r=this,n=r.init_opts(t);r.widget=e;for(var i=o.length-1;i>=0&&o[i].call(r,r,n,e)!==!1;i--);},(i=b(t,n,P.plugin))===f?i:(i[a].pluginName=t,p("on off once emit",function(e,t){i[a][t]=k[a][t]}),o=b.property(i,"main",!0),i)}},k:function(e){return P.plugin.modules[e]||f}}),P.plugin.module("drag",{c:"dragStart dragStop",e:{x:!0,y:!0,opacity:.7,handle:0,draggable:!0},j:{draggable:function(e){return this.opt("draggable",e)}},k:function(e,t,r){var n,i,o,a,u,f,d,h,p,m,v=D(l),g=r[0].offsetParent(),b=0,y=1;t.handle||(t.handle=r),m=s(t.handle)?t.handle[0]:D(t.handle);var k=function(e){1!=M.status.resize&&(v.on({mousemove:w,mouseup:x}),b=1,y=r.opacity(),n=r.width(),i=r.height(),u=e.pageX-r[0].offsetLeft()-(int(g.css("borderLeftWidth")||0)||0),f=e.pageY-r[0].offsetTop()-(int(g.css("borderTopWidth")||0)||0),g.is("body")?(d=D(c).width(),h=D(c).height()):(d=g.clientWidth(),h=g.clientHeight()),r.emit("dragStart",{left:e.pageX-u,top:e.pageY-f}))},x=function(e){v.off({mousemove:w,mouseup:x}),p&&p.remove(),0!=b&&1==M.status.drag&&(M.status.drag=0,r.opacity(y).emit("dragStop",{left:e.pageX-u,top:e.pageY-f}))},w=function(e){if(1==M.status.resize)return b=0,x(e),!1;if(1==b){var s=r[0].css("position");"absolute"!==s&&"fixed"!==s&&r[0].css("position","absolute"),r.opacity(t.opacity),p=M("locker",{renderTo:"body",cursor:"move",opacity:0,visible:!0}),b=2,M.status.drag=1}return 2==b&&(t.x&&(o=e.pageX-u,0>o?o=0:o+n>d&&(o=d-n),r.left(o)),t.y&&(a=e.pageY-f,0>a?a=0:a+i>h&&(a=h-i),r.top(a))),!1};m.on("mousedown",function(e){1==e.which&&1==t.draggable&&(e.preventDefault(),k(e))})}}),P.plugin.module("drop",{e:{},j:{},k:function(){}}),P.plugin.module("resize",{e:{top:!0,right:!0,bottom:!0,left:!0,opacity:.35,resizable:!0,className:"",minWidth:10,minHeight:10,border:"1px dotted #24415D",background:"rgb(90,176,249)"},c:"resizeStart resizeStop",j:{resizable:function(e){return this.opt("resizable",e)}},k:function(e,t,r){var n,i,o,a,s,u,f,d,h,p,m,v,g,b,y,k,x,w=D(l),_=D(c),S=r[0].offsetParent(),C=0,T=0,F=0,A=r[0].css("cursor"),L="";"HTML"===S.nodeName()&&(S=D(l.body));var z=function(){s=r[0].offset(),p=r.width(),m=r.height(),v=s.x,g=s.y},E=function(e){return z(),S.is("body")?(d=_.width(),h=_.height()):(d=S.offsetWidth(),h=S.offsetHeight()),C=r.minWidth(),T=r.minHeight(),p=r.width(),m=r.height(),b=e.pageX,y=e.pageY,k=r[0].offsetLeft(),x=r[0].offsetTop(),i=newDiv(t.className).css({position:"absolute",opacity:t.opacity,border:"1px dotted #24415D",background:t.background}).appendTo(S),a=i.boxSize(),o=S.boxSize(),u=o.borderTopWidth+o.borderBottomWidth,f=o.borderLeftWidth+o.borderRightWidth,i.css({width:p-a.width,height:m-a.height,left:k,top:x,zIndex:M.status.zIndex+2,cursor:L}),w.on({mousemove:N,mouseup:H}),n=M("locker",{renderTo:"body",cursor:L,opacity:0,visible:!0}),!1},H=function(){M.status.resize=0;var e=i.offsetWidth(),o=i.offsetHeight(),a=i.offsetLeft(),s=i.offsetTop(),u={width:e,height:o,left:a,top:s};r.size(e,o).left(a).top(s),n.remove(),i.remove(),w.off({mousemove:N,mouseup:H}),z(),t.on&&t.on.stop&&t.on.stop(u)},N=function(e){var r=e.pageX,n=e.pageY,o=function(){var e=x+n-y,r=m+y-n;r<t.minHeight||T>r||(0>e&&(e=0,r=m+x),i.css({top:e,height:r-a.height}))},s=function(){var e=p+r-b;e<t.minWidth||C>e||(e+k>d+u&&(e=d-k-u),i.width(e-a.width))},c=function(){var e=m+n-y;e<t.minHeight||T>e||(e+x>h+f&&(e=h-x-f),i.height(e-a.height))},l=function(){var e=k+r-b,n=p+b-r;n<t.minWidth||C>n||(0>e&&(e=0,n=p+k),i.css({left:e,width:n-a.width}))};switch(F){case 1:o();break;case 2:s();break;case 3:c();break;case 4:l();break;case 5:o(),l();break;case 6:o(),s();break;case 7:c(),s();break;case 8:c(),l()}},B=function(e){if(t.resizable&&1!=M.status.resize&&0==M.status.drag){var n=F,i="",o=e.pageX,a=e.pageY,s=t.top&&a>=g&&g+6>a,u=t.right&&o>v+p-6&&v+p>o,c=t.bottom&&a>g+m-6&&g+m>a,l=t.left&&o>=v&&v+6>o;s&&l?5!=F&&(F=5,i="nw-resize"):s&&u?6!=F&&(F=6,i="ne-resize"):c&&u?7!=F&&(F=7,i="se-resize"):c&&l?8!=F&&(F=8,i="sw-resize"):s?1!=F&&(F=1,i="n-resize"):u?2!=F&&(F=2,i="e-resize"):c?3!=F&&(F=3,i="s-resize"):l?4!=F&&(F=4,i="w-resize"):0!=F&&(F=0,i=A),n!=F&&(L=i,r[0].css("cursor",i))}},W=function(e){1==e.which&&0!=F&&(e.preventDefault(),z(),E(e),M.status.resize=1)},P=0;return r.on("mouseover",function(){z(),0==P&&(P=1,r.on({mousemove:B,mousedown:W}))}),!1}}),P.plugin.module("contextMenu",{e:{ui:"Menu",items:f,width:"auto",renderTo:"body"},j:{remove:function(){var e=this,t=e.menu;return s(t)&&t.remove(),e.widget[0].off("contextmenu",e._contextMenu),e}},k:function(e,t,r){var n,i=!1,o=D(c),a=D(t.renderTo),u=v(!1),d=function(){n.visible()&&n.hide().off({mousedown:u,click:d}),e.emit("hide")},h=function(){i=!0,n=e.menu=M(t.ui,{renderTo:t.renderTo,items:t.items,visible:!1,width:t.width,css:{position:"absolute"}})};a!==f&&r[0].on("contextmenu",e._contextMenu=function(t){if(0==i&&h(),s(n)){n.show();var r=t.pageX,c=t.pageY,f=n.width(),p=n.height(),m=a.offsetWidth(),v=a.offsetHeight();return a.is("body")&&(m=o.width(),v=o.height()),c+p>v&&(c=v-p),r+f>m&&(r=m-f),n[0].css({left:r,top:c}).on({mousedown:u,click:d}),e.emit("show"),D(l).once("mousedown",d),!1}})}}),P.plugin.module("popup",{e:{},j:{},k:function(){}}),P.render=b(function(){return{f:{html:function(){var e={};return D.united("[std-ui]").each(function(){}),e}},k:function(e,t){"html"===e&&"ui"===t?P.render.html():(s(e)||u(e))&&(s(t)?e.renderTo(t):e.render())}}}),N({".Std_unselect":function(){var e="user-select",t={};return p(P.init.platformPrefix,function(r,n){t[n+e]="none"}),t[e]="none",t}(),".Std_wordwrap":{wordBreak:"break-all",wordWrap:"break-word"},".Std_wordnowrap":{overflow:"hidden",wordBreak:"keep-all",whiteSpace:"nowrap",textOverflow:"ellipsis"},".Std_Hidden":{visibility:"hidden"}}),P.include=b({f:{safe:!0,loader:new z,basePath:function(e){return this.loader.basePath(e),this},on:function(e,t){return this.loader.on(e,t),this}},k:function(){var e=P.include.loader;e.safe=P.include.safe,e.include.apply(e,arguments)}}),W=P.main=b({f:{state:!1,callbacks:{}},k:v(function(t,r){var n=P.include.loader,i=W.state,o=W.callbacks,a=function(){W.state=!0;for(var e=0;10>e;e++)p(o[e],function(e,t){t.call(P,P)})};t===d?0==n.length||i||n.success+n.failed==n.length?a():n.once("complete",a):e(t)&&(i&&t.call(P,P),o[r=r===d?9:r]||(o[r]=[]),o[r].push(t))}),l:function(){function e(){r.off("load",t),n.off(o?a:s,t)}function t(){(o||c.event&&"load"===c.event.type||"complete"===l.readyState)&&(e(),h.dom.enableScript&&D.united("script").each(function(e,t){D.behaviorScript(t.dom,!1)}),W(),n.emit("ready"),i=!0)}var r=D(c),n=D(l),i=!1,o=l.addEventListener,a="DOMContentLoaded",s="readystatechange";if("complete"==l.readyState)return t();if(o)n.on(a,t),r.on("load",t);else{n.on(s,t),r.on("load",t);var u=!1;try{u=c.frameElement==f&&l.documentElement}catch(d){}u&&u.doScroll?function p(){if(!i){try{u.doScroll("left")}catch(e){return v(p,30)()}t()}}():t()}}})}(isFunction=function(e){return"function"==typeof e},isNumber=function(e){return"number"==typeof e},isString=function(e){return"string"==typeof e},isObject=function(e){return"object"==typeof e&&null!==e},isArray=function(e){return e instanceof Array},isPlainObject=function(e){if(!isObject(e)||e.nodeType||e===window)return!1;var t,r={}.hasOwnProperty;try{if(e.constructor&&!r.call(e,"constructor")&&!r.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}for(t in e)if(!r.call(e,t))return!1;return!0},isEmpty=function(e){if(null==e)return!0;if(isObject(e)&&!isArray(e)){for(var t in e)return!1;return!0}return 0===e.length},isWidget=function(e){return e&&e instanceof Std.ui.modules.widget},isLayout=function(e){return e&&e instanceof Std.ui.modules.layout},window,document,null,void 0);